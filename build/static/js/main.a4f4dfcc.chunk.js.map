{"version":3,"sources":["containers/PlayGameScreen/Game/Pieces sync nonrecursive /.(png|jpe?g|svg)$","containers/PlayGameScreen/Game/Pieces/b.png","containers/PlayGameScreen/Game/Pieces/k.png","containers/PlayGameScreen/Game/Pieces/n.png","containers/PlayGameScreen/Game/Pieces/p.png","containers/PlayGameScreen/Game/Pieces/q.png","containers/PlayGameScreen/Game/Pieces/r.png","containers/PlayGameScreen/Game/Pieces/wb.png","containers/PlayGameScreen/Game/Pieces/wk.png","containers/PlayGameScreen/Game/Pieces/wn.png","containers/PlayGameScreen/Game/Pieces/wp.png","containers/PlayGameScreen/Game/Pieces/wq.png","containers/PlayGameScreen/Game/Pieces/wr.png","containers/CommonComponents/Section.js","serverLogic/APIConfig.js","containers/CommonComponents/SectionTitle.js","redux/actions/userActions.js","serverLogic/DataFetcher.js","redux/actions/socketActions.js","containers/PlayGameScreen/Game/Piece.js","containers/PlayGameScreen/Game/Main.js","containers/PlayGameScreen/Game/CSquare.js","containers/PlayGameScreen/Game/board.js","fonts/Montserrat/Montserrat-Regular.ttf","containers/PlayGameScreen/Game/gameMode2_moves.js","containers/PlayGameScreen/Game/moves.js","containers/PlayGameScreen/Game/SimulateMoves.js","redux/actions/gameActions.js","serverLogic/WebSocket.js","serverLogic/LogRegService.js","containers/LogRegScreen/Components/LoginForm.js","assets/livePlaceholder.png","containers/CommonComponents/TextWithWavyOrnament.js","assets/wavy-ornament.png","containers/LogRegScreen/Components/WatchLiveWidget.js","containers/LogRegScreen/Components/RegisterForm.js","containers/LogRegScreen/LogRegScreen.js","serverLogic/Utils.js","containers/CommonComponents/Timer.js","containers/CommonComponents/Dots.js","redux/reducers/userReducer.js","redux/reducers/gameReducer.js","redux/reducers/socketReducer.js","redux/reducers/rootReducer.js","containers/MainPageScreen/Components/FindGameWidget.js","containers/MainPageScreen/Components/MatchHistory/MatchHistoryItem.js","containers/CommonComponents/VariableColor.js","containers/MainPageScreen/Components/MatchHistory/MatchHistory.js","containers/MainPageScreen/Components/Stats/StatsContainer.js","containers/MainPageScreen/Components/MatchHistory/RejoinGameWidget.js","containers/CommonComponents/TextFlashComponent.js","containers/MainPageScreen/MainPageScreen.js","containers/PlayGameScreen/Components/GameContainer.js","containers/PlayGameScreen/Components/Chat.js","containers/CommonComponents/SocketStatusWidget.js","containers/PlayGameScreen/Components/PlayersInfo.js","containers/PlayGameScreen/Components/GameButtons.js","containers/PlayGameScreen/Components/GameTimer.js","containers/PlayGameScreen/Components/GameTimersWidget.js","containers/PlayGameScreen/Components/TurnIndicator.js","containers/PlayGameScreen/PlayGameScreen.js","containers/Navigation/Components/ProfileWidget.js","assets/logo.png","containers/Navigation/Components/LogoWidget.js","containers/Navigation/NavBar.js","containers/CommonComponents/ScrollToTop.js","containers/CommonComponents/PrivateRouter.js","App.js","reportWebVitals.js","index.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","Section","props","state","sectionID","section","this","className","children","Component","API_URL","SectionTitle","SET_USERID","SET_USERNAME","SET_USERELO","SET_SESSION_TOKEN","SET_IS_IN_GAME","setUserId","userId","type","payload","setUsername","username","setUserElo","elo","setSessionToken","sessionToken","setIsInGame","isInGame","getSessionToken","a","storeState","store","getState","user","status","requestOptions","method","mode","timeout","credentials","fetchWithTimeout","response","text","respBody","respObj","JSON","parse","console","log","dispatch","logout","name","undefined","getMatchHistory","resp","headers","authHeader","handleResponse","getGameIsInGame","getGameInfo","gameRoomId","getPlayerStats","resource","options","controller","AbortController","setTimeout","abort","fetch","signal","clearTimeout","error","then","UPDATE_SOCKET","SET_SOCKET_STATUS","EMIT","DISCONNECT_SOCKET","disconnectSocket","setSocketStatus","socketStatus","emit","eventAndmsg","Piece","p5","x","y","did_move","color","type_letter","toLowerCase","pieces_dict","find","key","dragging","scaled_size","size","scalar","possible_moves","old_x","old_y","grid_pos","pixel_positions","indexOf","get_pixel_position_from_pixel_positon_array","pos","mouseIsPressed","mouseX","offsetX","mouseY","offsetY","min","position","i","length","dist","Distance_between_points","get_closest_position","push","trueType","noStroke","toUpperCase","texture","textures","translate","rect","pop","px","py","Font","CSquare","j","y2","x2","parityFlag","cols","rows","fill","square","Board","grid","gameMode2_grid","playingAs","Checkboard_size","shelf_size","gameMode2_Margin","FEN","load_FEN","color_to_move","lastPawnMoveOrCapture","lastmove","numOfMoves","check","enPassant","SetupState","waveFunction","empty_spaces","temp_fen","board","toString","split","StartingSquare","TargetSquare","temp","change_Turn","set_FEN_from_grid","Generate_opponent_moves","Generate_moves","split_FEN","fenBoard","file","rank","Number","isInteger","get_pos","side","highlight_color","modifier","highlight","squareColor","r","g","b","setAlpha","k","background","width","height","xAngle","PI","yAngle","angle","myX","Math","cos","myY","sin","ellipse","dragged_index","dragged_index2","currentTurn","startHighlight","StartSquare","endHighlight","EndSquare","moves","circle","stroke","strokeWeight","noFill","piece","drag","movePiece","draw_piece","rew","tint","image","textFont","textSize","textsize","GameMode2_checkState","z","points_dict","Is_On_Good_Square","canvas","pos_to_stocknot_dict","canvas_width","canvas_height","game_mode_defender_width","Checkboard","King","Pawn","Knight","Bishop","Rook","Queen","floor","sendMoveToServer","gameMode","startingFEN","placeDefenderPiece","whiteScore","blackScore","images","item","index","replace","importAll","require","sketch","calculatePixelPositions","readjustCanvas","resizeTo","windowWidth","forEach","resize","style","myCustomRedrawAccordingToNewPropsHandler","preload","loadFont","myFont","value","loadImage","mousePressed","isIntersecting","mouseReleased","added_piece","Target_Square_position","parseInt","clonedPiece","snap_back","spent_points","add_piece","Starting_Square_position","move","check_move","get_move","EP_target2","Directions","Target","rook_pos","set_FEN_by_move","snap","get_taken","EP_target","check_if_promotion","opponent_moves","data","make_a_move","check_if_check","setup","board_letters","cur_letter","generate_pos_to_stocknot_dict","createCanvas","WEBGL","Up","Down","Right","Left","Numbers_of_squares_to_edge","count_squares_to_edge","windowResized","draw","drawSquares","draw_board","simulate_white_king_pos","simulate_black_king_pos","simulate_set_grid_by_move","old_grid","simulation_grid","find_move_in_moves_for_simulation","ally_moves","flag","splice","future_opponent_moves2","future_moves","starting_square","ending_square","arguments","gtype","startSquare","p","Get_long_moves","Get_Pawn_moves","Get_Knight_moves","Get_king_moves","ally_king","get_black_king_pos","get_white_king_pos","future_move","temp_move","temp_grid","slice","check_flag","simulate_moves_for_ally","topponent_moves","t_moves","Squares_to_end","abs","Piece_on_Target","targetsquare","is_square_save","targetSquare","target","Piece_on_target","Start","End","x1","y1","sqrt","enemyKingPos","get_grid_pos","gride","SET_GAMEID","SET_GAMEMODE","SET_PLAYINGAS","SET_CURRENT_FEN","SET_OPPONENT_USERNAME","SET_OPPONENT_ELO","SET_OPPONENT_STATUS","FLIP_CURRENT_TURN","SET_CURRENT_TURN","SET_WHITE_TIME","SET_BLACK_TIME","SET_WHITE_SCORE","SET_BLACK_SCORE","SET_LOADING_GAME_INFO","setGameId","gameId","setGameMode","setPlayingAs","setCurrentFEN","currentFEN","setOpponentUsername","oppUsername","setOpponentELO","oppELO","flipCurrentTurn","setWhiteTime","wtime","setBlackTime","btime","setLoadingGameInfo","bool","SocketStatus","status_name","disconnected","connecting","connected","authorized","unknown","SocketClient","connect","socket","io","path","connectInterval","that","authListeners","gameListeners","on","is_connected","authorize","reason","is_authorized","ping","Promise","disconnect","event","reject","authData","mType","make_opponents_move","startingSquare","mtype","set_FEN_by_rejected_move","opp_status","getStatusFromString","whiteTime","blackTime","window","location","reload","fun","login","password","hashedPassword","sha256","body","stringify","register","GAME_DEBUGING_MODE","localStorage","clear","sessionStorage","useState","setUserName","setPassword","passwordShown","setPasswordShown","errorMessage","setErrorMessage","eye","icon","faEye","history","useHistory","routeToNext","preventDefault","userElo","Form","onSubmit","Control","required","placeholder","autoFocus","onChange","onClick","visibility","Button","TextWithWavyOrnament","fontStyle","fontSize","ornamentStyle","ornamentSize","directionStyle","direction","src","alt","WatchLiveWidget","player1","player2","confirmPassword","setConfirmPassword","usernameContainsWhitespace","setUsernameContainsWhitespace","isUsernameLongEnough","setIsUsernameLongEnough","isUsernameTooLong","setIsUsernameTooLong","isUsernameTaken","isValidUsername","setIsValidUsername","isPasswordLongEnough","setIsPasswordLongEnough","isPasswordTooLong","setIsPasswordTooLong","passwordContainsUppercase","setPasswordContainsUppercase","passwordContainsNumber","setPasswordContainsNumber","isValidPassword","setIsValidPassword","arePasswordsEqual","setArePasswordsEqual","successColor","failColor","validateData","errors","errorList","test","checkUsername","pass","string","checkPassword","confPassword","LogRegScreen","formatTime","timer","getSeconds","minutes","getMinutes","getHours","formatTimeMinutes","classNames","classes","entries","filter","join","useTimer","initialState","countDirection","setTimer","isActive","setIsActive","isPaused","setIsPaused","countRef","useRef","setTime","time","handleStart","current","setInterval","timerRestart","clearInterval","handlePause","handleResume","handleReset","Dots","context","dots","interval","setState","repeat","userInitialState","getItem","gameInitialState","opponentUsername","opponentElo","chatHistory","opponentsStatus","loadingGameInfo","socketInitialState","rootReducer","combineReducers","action","actions","setItem","game","nextTurn","msg","mapAllStateToProps","GameMode","classic","defender","allGameModes","playerId","playersInQ","setPlayersInQ","buttonTexts","mainButtonText","setMainButtonText","isInQ","setIsInQ","scope","setScope","idleStyle","inQStyleGameMode","QInfoStyle","selectedGameMode","setSelectedGameMode","gameModeButtons","findGame","componentMounted","gameModeId","leaveQ","joinQ","useEffect","playersInQueue","CSSTransition","in","unmountOnExit","MatchItemInfo","matchResult","nofMoves","player1Info","player2Info","matchDate","MatchResult","res","win","loss","none","PlayerInfo","playedAs","ELO","MatchDate","hour","dayMonthYear","MatchHistoryItem","matchItemInfo","matchResultStyle","date","VariableColor","colorStyle","MatchHistory","isLoading","matchHistory","mounted","fetchPlayerData","getEmptyMatchHistoryItem","respArr","Array","isArray","keyGenerator","matchHistoryArray","formatedMoves","formatMoves","nOfMoves","result","getResultFromString","p1Info","p1Username","p1PlayedAs","p1ELO","p2Info","p2Username","p2PlayedAs","p2ELO","MatchHistoryPlaceholder","currentElo","setCurrentElo","rankDeviation","setRankDeviation","gamesPlayed","setGamesPlayed","gamesWon","setGamesWon","gamesLost","setGamesLost","draws","setDraws","setIsLoading","deviation","loading","setLoading","inGame","checkIfIsInGame","TextFlashComponent","minRepetitions","displacement","textItems","repetitions","testTextElement","React","createElement","marginSize","innerWidth","document","documentElement","setProperty","clientWidth","calcRepetitions","textFlashText","displacementAsString","String","populateTextFlash","MainPageScreen","GameContainer","Chat","playerName","messageStyles","messages","typedMsg","handleSubmit","bind","sender","addMessageToLog","updatedMsgs","scrollToBottom","messageList","float","ref","el","messagesEnd","SocketStatusWidget","isOpponentSocket","displayedSocketStatus","Tooltip","title","PlayersInfo","opponentStatus","GameButtons","surrenderGame","evntAndMsg","makeAIMove","makeMoveEvent","playerColor","whiteOrder","setWhiteOrder","blackOrder","setBlackOrder","turnIndicatorText","setTurnIndicatorText","turnStyle","setCurrentTurnStyle","highlightBoardSide","PlayGameScreen","gameStatus","showResult","gameroomId","blackPlayer","whitePlayer","turn","wScore","bScore","setDebugingGameValues","fetchGameData","spentPoints","disabled","sendMove","withRouter","ProfileWidget","LogoWidget","logo","landingPageItems","mainPageItems","NavBar","currentItems","logoVisible","playerWidgetVisible","playerUsername","logoutIcon","faSignOutAlt","closeNav","getElementById","scrollIntoView","behavior","navMenuDOM","pathname","userData","menuItemsList","scrollToSection","getAppropriateItems","openNav","ScrollToTop","useLocation","scrollTo","component","rest","render","to","from","routeToGame","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.a4f4dfcc.chunk.js","sourcesContent":["var map = {\n\t\"./b.png\": 122,\n\t\"./k.png\": 123,\n\t\"./n.png\": 124,\n\t\"./p.png\": 125,\n\t\"./q.png\": 126,\n\t\"./r.png\": 127,\n\t\"./wb.png\": 128,\n\t\"./wk.png\": 129,\n\t\"./wn.png\": 130,\n\t\"./wp.png\": 131,\n\t\"./wq.png\": 132,\n\t\"./wr.png\": 133\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 121;","export default __webpack_public_path__ + \"static/media/b.74710ff3.png\";","export default __webpack_public_path__ + \"static/media/k.4fdcd9a0.png\";","export default __webpack_public_path__ + \"static/media/n.ebabf9a8.png\";","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/q.53591d1c.png\";","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/wb.a14aed81.png\";","export default __webpack_public_path__ + \"static/media/wk.4900bf60.png\";","export default __webpack_public_path__ + \"static/media/wn.3244d53b.png\";","export default __webpack_public_path__ + \"static/media/wp.a6691015.png\";","export default __webpack_public_path__ + \"static/media/wq.08baca6a.png\";","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAyAAAAMgCAQAAABxec7jAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfhCAoAOjqtpM7pAAARXUlEQVR42u3dbYxddYHH8V/p9IHWFphSsLXFFAotrXYNVaHUOIhErBopKopP2RfrqkU0ESTrQ4yJJruYGA1aNWvCJmijMVBFtD7hshEjXU0hm2LZViiKNDSByiLVii1t94UPMUqZO2fuufd/zvl85iW507m/cu/3nvufmSYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAdNsUEwzZ1CzN4pxU2Ff1eB7JjvzBfjX6vzyY+3K4AV/pjKzM/My1H5TjuFyam7I/Rwv9OJTbsiGz7Vfjx/7clEtzXLEbz86G3JZD9oOyrMvORjzF7cu7MtV+tX7szLoir+3elX32g/LeEriuUU9wt2eB/Wr++GKOL2rj+fmB/aA8x+fWxj29PZAl9qv544cFvV24OPfZD8ozJV9v5NPbrpxgv5o/vl7IN7WckF32gxJd1dintxvtV/vHVUVsfKP9oESLGv1dQ+vsV/t3FS0a+sbr7EevfAPcYF2TZzT4q/+o/Wr2jLxv6F/DR+xH7+8oMzgz83DmNPoePD932q9W+3NKnhjin7862+yHK5ASvbTxT3/r7VezOXlph/+Gm7+fgFCb892Dju/XizVD/dPX2g8BKdNy96Dj+/Xi7KH+6cvsh4CUabTx92Ce/Wp3Uof/hpu/n4BQmxnuQcf368VMGzd4PwEBAAEBQEAAEBAABAQAAQEAAQFAQAAQEAAEBAABAQABAWAgRkxQtnn5fE2f+VPZar+abcivO7DxmrzXfgJCiWblspo+802dCEh9+/Xi6k48AS6ubeOrBaRw3sICQEAAEBAABAQAAQEAAQFAQAAYOD8HwsRsG+KfvbwTC68a6sYgINRmtQlqNtvGNIW3sAAQEAAEBAABAUBAAEBAABAQAAQEAAEBQEAAQEAAEBCqm+Je2ti9RECoYm4n7uUJNm75xggIQ7CwE/dygY1bvjECwhD8g3tpY/cSAaGKCzO9A/fy4qH+6S/rwMLTcoEHk4DQNScM+cl1EBbmxUP988c68CbWy3OSB5OA0D1Xt/4evifThvzq/D3+L0JAaKOxrG/1/TstVxaQsNNbvfGlGfNAEhC66bM5tbX3bSQ3ZPbQv4rjc31GWrvxqdnoQSQgdNXCbC7gSbYOU3JdIYe7F+S6lv6o3exs7sg3KiMgPKW12ZLRFl59bMwVxXw1V2RjC69CRrMlaz2ABIRuG8u2lj0RLMmtBeXjjwm5NUta9sJjm9MPBIRkSX6UTVnVivuyINdmR4E/mXBBduTalvzM9qpsyo9aFkSq8XvQBumOrJnoTRbnVwP78u7KltyVX2R/A6edlQV5Xl6WsSF/4+7TO5Qf5vv5n+zNgQZuPCdLck5emXMG9ieelgcnfqOtOd9TzaCMmIA/O2eATw3dNC0X5SIz0BrewgJAQAAQEAAEBAABAQABAUBAABAQAAQEAAEBAAEBQEAAEBAABAQAAQEAAQFAQAAQEAAEBAABAQABAUBAABAQAAQEAAEBgB6MmKBsj+fjRqCz//cjIEzCb/J+IwBF8hYWAAICgIAAICAACAgACAgAAgKAgLTadBOAR5mAUMUCE4BHmYBQxVwTgEeZgODiGjzKBISBmWIC8CgTEKr4rQmgZvtNICACAlTxOxMISDvtNgHU7D4TCEg7fcsEULMtJhgcB06DNCv7JRtqdCRzcsAMrkDa6EDuMALU6Mfy4Qqkvc7MLptDTY5mWe41gyuQtro31xsBanK9fLgCabt7crYRoO/+NyuMICBtNz0/z7PNAH31QM7KQTMMlrewBu9glma7GaCv1/XyISAd8WTOyXfNAH3yn3mefAhIdxzOq/IVM0AffC3rcsgMw+AMZHim5kt5Y38+1Sn59yy2KA2xN+/IQ/3Lx+XyISASMimL8l9ZalEa4IFckF/Kh4AgISAfAoKEgHwwIQ7Rh+1w3tqv4/Q9eYnfZU3BfikfrkBwFQJV8vES+RAQJATkAwGREJAPBERCJAT5QEAkREKQD/kQECQE+ZAPAUFCQD4QEAkB+UBAJERCkA8EBAlBPuRDQJAQ5EM+BAQJAflAQCQE5AMBkRAJQT4QECQE+ZAPAUFCkA/5EBAkBOSDY/AvEjaBf7WQbuVjs3y4AsFVCPJRJR9vlA8BQUKQD/kQECQE5AMBabJp+Upe26+EbM7JFmWS9uW12SMfAkLXrkKgKPLRwKcjmuVobs6Zea4hkA8EBAkB+RAQBpaQW7IiKwyBfCAgTNSRbHYVgnwgIFS7CvFGFvKBgCAhyAcCgoSAfAgIEgLygYBICMgHAoKEIB8ICBKCfCAgSAjIR7f4ZYrt0dNv6p2WZcf8bx/I6VZkHPfn347533b10gX5EBAKvZ6c1G/qvSNrbMg4tuZ8Vx/8iX8TvU36+G+nQw3kQ0CQEJAPBERCQD4QEP4qIXeZgaJslw8BoSkJ+bIRKMqX5ENAaIojJqCwFzUICAAICAACAoCAACAgAAgIAAgIAAICgIAAICAACAgACAgAAgKAgAAgIAAICAAICAACAoCAACAgAAgIAAgIAAICgIAAICAACAgACAgAAgKAgAAgIAAICAAICAACAoCAACAgACAgAAgIAAICgIAAICAAICAACAgAAgKAgAAgIAAgIAAICAACAoCAACAgACAgAAgIAAICgIAAICAAICAACAgAAgKAgAAgIAAgIAAICAACAoCAACAgACAgAAgIAAICgIAAICAAICAACAgAAgKAgACAgAAgIAAICAACAoCAAICAACAgAAgIAAICgIAAgIAAICAACAgAAgKAgACAgAAgIAAICAACAoCAAICAACAgAAgIAAICgIAAgIAAICAACAgAAgKAgACAgAAgIAAICAACAgACAoCAACAgAAgIAAICAAICgIAAICAACAgAAgIAAgKAgAAgIAAICAACAgACAoCAACAgAAgIAAICAAICgIAAICAACAgAAgIAAgKAgAAgIAAICAACAgACAoCAACAgAAgIAAICAAICgIAAICAACAgACAgAAgKAgAAgIAAICAAICAACAoCAACAgAAgIAAgIAAICgIAAICAACAgACAgAAgKAgAAgIAAICAAICAACAoCAACAgAAgIAAgIAAICgIAAICAACAgACAgAAgKAgAAgIAAgIAAICAACAoCAACAgACAgAAgIAAICgIAAICAAICAA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\"","import React, {Component} from 'react';\r\nimport \"./Section.css\";\r\n\r\nclass Section extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={\r\n            sectionID:props.section\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <section\r\n                id={this.state.sectionID}\r\n                className=\"Section\"\r\n            >\r\n                <div className=\"content\">\r\n                    {this.props.children}\r\n                </div>\r\n            </section>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default Section;\r\n","const API = {\r\n    IP: '34.118.14.151',\r\n    PORT: '5000',\r\n}\r\n\r\n//no backtick at the end\r\nexport const API_URL='http://'+API.IP+':'+API.PORT;\r\n\r\n\r\n\r\n\r\n","import React, {Component} from 'react';\r\nimport \"./SectionTitle.css\";\r\n\r\nclass SectionTitle extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"SectionTitle\">\r\n                <div className=\"SectionTitle-title\">{this.props.children}</div>\r\n                <div className=\"SectionTitle-ornament\"/>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default SectionTitle;","// Create Redux action types\r\nexport const SET_USERID = 'SET_USERID'\r\nexport const SET_USERNAME = 'SET_USERNAME'\r\nexport const SET_USERELO = 'SET_USERELO'\r\nexport const SET_SESSION_TOKEN= 'SET_SESSION_TOKEN'\r\nexport const SET_IS_IN_GAME= 'SET_IS_IN_GAME'\r\n\r\n//SETTERS\r\nexport const setUserId = (userId) => ({\r\n    type: SET_USERID,\r\n    payload: userId,\r\n})\r\n\r\nexport const setUsername = (username) => ({\r\n    type: SET_USERNAME,\r\n    payload: username,\r\n})\r\n\r\nexport const setUserElo = (elo) => ({\r\n    type: SET_USERELO,\r\n    payload: elo,\r\n})\r\n\r\nexport const setSessionToken = (sessionToken) => ({\r\n    type: SET_SESSION_TOKEN,\r\n    payload: sessionToken,\r\n})\r\n\r\n\r\nexport const setIsInGame = (isInGame) => ({\r\n    type: SET_IS_IN_GAME,\r\n    payload: isInGame,\r\n})\r\n\r\n","import {API_URL} from \"./APIConfig\";\r\nimport {logout} from \"./LogRegService\"\r\nimport {store} from \"../index\";\r\nimport {setSessionToken} from \"../redux/actions/userActions\";\r\n\r\nexport const FETCH_DEBUGGING_MODE= true;\r\n\r\nexport async function getSessionToken() {\r\n    try {\r\n        const storeState=store.getState();\r\n        let userId=storeState.user.userId;\r\n\r\n        if(userId===null) return {status:400};\r\n\r\n        const requestOptions = {\r\n            method: 'GET',\r\n            mode: 'cors',\r\n            timeout: 1000000,\r\n            credentials: 'include'\r\n        };\r\n\r\n        const response = await fetchWithTimeout(API_URL + '/refresh_session?userId='+userId, requestOptions);\r\n        const respBody= await response.text();\r\n        const respObj = JSON.parse(respBody);\r\n        if (FETCH_DEBUGGING_MODE) console.log(respObj);\r\n\r\n        //save gotten session token to store\r\n        if(response.status===200){\r\n            await store.dispatch(setSessionToken(respObj.sessionToken));\r\n            return respObj;\r\n        }\r\n\r\n        //invalid refresh token\r\n        logout();\r\n        return respObj;\r\n\r\n    } catch (error) {\r\n        console.log(error);\r\n        console.log(error.name === 'AbortError');\r\n        return undefined;\r\n    }\r\n}\r\n\r\nexport async function getMatchHistory(userId,sessionToken) {\r\n\r\n    try {\r\n        //if session token expired/is not available, try getting a new one\r\n        if(sessionToken==='none'){\r\n           let resp= await getSessionToken();\r\n           sessionToken= resp.sessionToken;\r\n        }\r\n\r\n\r\n        const requestOptions = {\r\n            method: 'GET',\r\n            mode: 'cors',\r\n            headers: authHeader(sessionToken),\r\n            timeout: 1000000\r\n        };\r\n\r\n        const response = await fetchWithTimeout(API_URL + '/match_history?userId=' + userId, requestOptions);\r\n        const respObj = await handleResponse(response);\r\n        if (FETCH_DEBUGGING_MODE) console.log(response);\r\n        return respObj;\r\n    } catch (error) {\r\n        console.log(error.name === 'AbortError');\r\n    }\r\n}\r\n\r\nexport async function getGameIsInGame(userId,sessionToken){\r\n    try {\r\n        //if session token expired/is not available, try getting a new one\r\n        if(sessionToken==='none'){\r\n            let resp= await getSessionToken();\r\n            sessionToken= resp.sessionToken;\r\n        }\r\n\r\n        const requestOptions = {\r\n            method: 'GET',\r\n            mode: 'cors',\r\n            headers: authHeader(sessionToken),\r\n            timeout: 6000\r\n        };\r\n\r\n        const response = await fetchWithTimeout(API_URL + '/is_in_game?userId=' + userId, requestOptions);\r\n        const respObj = await handleResponse(response);\r\n        if (FETCH_DEBUGGING_MODE) console.log(response);\r\n        return respObj;\r\n    } catch (error) {\r\n        console.log(error.name === 'AbortError');\r\n    }\r\n}\r\n\r\nexport async function getGameInfo(gameRoomId, sessionToken) {\r\n    try {\r\n        //if session token expired/is not available, try getting a new one\r\n        if(sessionToken==='none'){\r\n            let resp= await getSessionToken();\r\n            sessionToken= resp.sessionToken;\r\n        }\r\n\r\n        const requestOptions = {\r\n            method: 'GET',\r\n            mode: 'cors',\r\n            headers: authHeader(sessionToken),\r\n            timeout: 6000\r\n        };\r\n\r\n        const response = await fetchWithTimeout(API_URL + '/get_game_info?gameRoomId='+gameRoomId, requestOptions);\r\n        const respObj = await handleResponse(response);\r\n        if (FETCH_DEBUGGING_MODE) console.log(response);\r\n        return respObj;\r\n    } catch (error) {\r\n        console.log(error.name === 'AbortError');\r\n    }\r\n}\r\n\r\nexport async function getPlayerStats(userId,sessionToken) {\r\n    try {\r\n        //if session token expired/is not available, try getting a new one\r\n        if(sessionToken==='none'){\r\n            let resp= await getSessionToken();\r\n            sessionToken= resp.sessionToken;\r\n        }\r\n\r\n        const requestOptions = {\r\n            method: 'GET',\r\n            mode: 'cors',\r\n            headers: authHeader(sessionToken),\r\n            timeout: 600000\r\n        };\r\n\r\n        const response = await fetchWithTimeout(API_URL + '/player_stats?userId=' + userId, requestOptions);\r\n        const respObj = await handleResponse(response);\r\n        if (FETCH_DEBUGGING_MODE) console.log(response);\r\n        return respObj;\r\n    } catch (error) {\r\n        console.log(error.name === 'AbortError');\r\n    }\r\n}\r\n\r\n//prevent networkerrors from crashing fetch requests\r\nexport async function fetchWithTimeout(resource, options) {\r\n    const {timeout = 8000} = options;\r\n\r\n    const controller = new AbortController();\r\n    const id = setTimeout(() => controller.abort(), timeout);\r\n\r\n    const response = await fetch(resource, {\r\n        ...options,\r\n        signal: controller.signal\r\n    });\r\n    clearTimeout(id);\r\n\r\n    if( response===false || response ===undefined){\r\n        return {error: 'Network connection error'};\r\n    }\r\n    return response;\r\n}\r\n\r\n//returns an HTTP Authorization header containing the Json Web Token (JWT) of the currently logged in user\r\nexport function authHeader(sessionToken) {\r\n    // return authorization header with jwt token\r\n    if (sessionToken) {\r\n        return {'Authorization': sessionToken};\r\n    } else {\r\n        return {'Authorization': 'none'};\r\n    }\r\n}\r\n\r\nexport function handleResponse(response) {\r\n    if(response.status ===401){\r\n        //try getting a new session token\r\n        getSessionToken().then((response)=>{\r\n            if(response.status===200) return;\r\n            logout();\r\n        })\r\n    }\r\n\r\n    return response.text().then(text => {\r\n        const data = text && JSON.parse(text);\r\n        return data;\r\n    });\r\n}","// Create Redux action types\r\nexport const UPDATE_SOCKET = 'UPDATE_SOCKET'\r\nexport const SET_SOCKET_STATUS = 'SET_SOCKET_STATUS'\r\nexport const EMIT= 'EMIT'\r\nexport const DISCONNECT_SOCKET= 'DISCONNECT_SOCKET'\r\n\r\n//SETTERS\r\nexport const updateSocket = (socket) => ({\r\n    type: UPDATE_SOCKET,\r\n    payload: socket,\r\n})\r\n\r\nexport const disconnectSocket = () => ({\r\n    type: DISCONNECT_SOCKET,\r\n})\r\n\r\nexport const setSocketStatus = (socketStatus) => ({\r\n    type: SET_SOCKET_STATUS,\r\n    payload: socketStatus,\r\n})\r\n\r\n\r\nexport const emit = (eventAndmsg) => ({\r\n    type: EMIT,\r\n    payload: eventAndmsg,\r\n})\r\n\r\n\r\n\r\n","import {pieces_dict, pixel_positions, scalar, textures,size} from \"./Main\";\r\nimport {Distance_between_points, get_pixel_position_from_pixel_positon_array} from \"./moves\";\r\n\r\nexport default class Piece {\r\n\r\n    /*\r\n    Type:\r\n\r\n    King - k\r\n    Pawn - p\r\n    Knight - n\r\n    Bishop - b\r\n    Rook - r\r\n    Queen - q\r\n    None - e\r\n    Color:\r\n    Letter case\r\n    Uppercase - White\r\n    Lowercase - Black\r\n     */\r\n\r\n\r\n    constructor(type, p5, x, y) {\r\n        this.p5 = p5;\r\n        this.did_move = 0;\r\n        this.color = \"none\";\r\n\r\n        // console.log(Object.keys(pieces_dict).find(key => pieces_dict[key] === type))\r\n        this.type_letter = type;\r\n        type = type.toLowerCase();\r\n        this.type = Object.keys(pieces_dict).find(key => pieces_dict[key] === type);\r\n        this.x = x;\r\n        this.y = y;\r\n        this.dragging = false;\r\n        this.scaled_size = size - scalar;\r\n        this.possible_moves = [];\r\n        this.old_x = this.x;\r\n        this.old_y = this.y;\r\n        this.grid_pos = pixel_positions.indexOf(get_pixel_position_from_pixel_positon_array([this.x,this.y]));\r\n    }\r\n\r\n    get_grid_pos(){\r\n        let pos = [this.x,this.y];\r\n        this.grid_pos = pixel_positions.indexOf(get_pixel_position_from_pixel_positon_array(pos));\r\n        return this.grid_pos;\r\n    }\r\n\r\n\r\n    drag() {\r\n        return this.p5.mouseIsPressed && this.dragging;\r\n    }\r\n\r\n    movePiece() {\r\n        if (this.dragging) {\r\n            this.x = this.p5.mouseX + this.offsetX;\r\n            this.y = this.p5.mouseY + this.offsetY;\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n\r\n    get_closest_position() {\r\n        let min = size;\r\n        let position = [-1, -1];\r\n        for (let i = 0; i < pixel_positions.length; i++) {\r\n            let dist = Distance_between_points(this.p5.mouseX, this.p5.mouseY, pixel_positions[i][0] + size / 2, pixel_positions[i][1] + size / 2);\r\n            if (dist < min) {\r\n                min = dist;\r\n                position = pixel_positions[i]\r\n            }\r\n        }\r\n        return position\r\n    }\r\n\r\n    snap() {\r\n        let position = this.get_closest_position();\r\n        this.x = position[0];\r\n        this.y = position[1];\r\n        this.old_x = this.x;\r\n        this.old_y = this.y;\r\n    }\r\n\r\n    snap_back() {\r\n        this.x = this.old_x\r\n        this.y = this.old_y\r\n        this.old_x = this.x;\r\n        this.old_y = this.y;\r\n    }\r\n\r\n    draw_piece() {\r\n        this.p5.push();\r\n        let trueType = this.type_letter;\r\n        this.p5.noStroke();\r\n        this.color === \"w\" ? trueType = this.type_letter.toUpperCase() : trueType = this.type_letter;\r\n        this.p5.texture(textures[trueType])\r\n        this.p5.translate(scalar / 2, scalar / 2);\r\n        this.rect = this.p5.rect(this.x, this.y, this.scaled_size, this.scaled_size);\r\n        this.p5.pop();\r\n    }\r\n\r\n    isIntersecting() {\r\n        let px = this.p5.mouseX;\r\n        let py = this.p5.mouseY;\r\n        if (px > this.x && px < this.x + this.scaled_size && py > this.y && py < this.y + this.scaled_size) {\r\n            this.offsetX = this.x - px;\r\n            this.offsetY = this.y - py;\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    get_taken() {\r\n        this.did_move = 0;\r\n        this.color = \"none\";\r\n        this.type = 'e'\r\n        this.type_letter = 'e';\r\n        this.dragging = false;\r\n        this.scaled_size = size - scalar;\r\n        this.possible_moves = [];\r\n        this.old_x = this.x;\r\n        this.old_y = this.y;\r\n\r\n    }\r\n\r\n}","import Board, {default_FEN, default_FEN_Gamemode_2} from \"./board\";\r\nimport {\r\n    check_if_check,\r\n    count_squares_to_edge, Generate_opponent_moves,\r\n    Generate_moves,\r\n    make_a_move, generate_pos_to_stocknot_dict\r\n} from \"./moves\";\r\nimport CSquare from \"./CSquare\";\r\nimport myFont from '../../../fonts/Montserrat/Montserrat-Regular.ttf'\r\nimport {add_piece} from \"./gameMode2_moves\";\r\n\r\nexport var Font;\r\nexport var pos_to_stocknot_dict = [];\r\nexport const max_canvas_size = 720;\r\nexport var canvas_width = 720;\r\nexport var canvas_height = canvas_width;\r\nexport var shelf_size = canvas_width / 3;\r\nexport var game_mode_defender_width = canvas_width + shelf_size;\r\nexport var Checkboard_size = canvas_height\r\nexport var size = Checkboard_size / 8\r\nexport var Checkboard = [];\r\nexport const pieces_dict = {King: 'k', Pawn: 'p', Knight: 'n', Bishop: 'b', Rook: 'r', Queen: 'q'};\r\nexport const textures = {};\r\nexport const scalar = 5;\r\nexport var pixel_positions = [];\r\nexport const rows = Math.floor(Checkboard_size / size);\r\nexport const cols = Math.floor(Checkboard_size / size);\r\nexport var board;\r\nexport var canvas;\r\nexport var gameMode2_Margin = 1.1\r\nexport var textsize = size / 1.5;\r\n\r\nfunction importAll(r) {\r\n    let images = {};\r\n    r.keys().map((item, index) => {\r\n        return images[item.replace('./', '')] = r(item);\r\n    });\r\n    return images;\r\n}\r\n\r\n\r\nconst images = importAll(require.context('./Pieces', false, /\\.(png|jpe?g|svg)$/));\r\nexport let playingAs;\r\nexport let sendMoveToServer;\r\nexport let gameMode;\r\nlet startingFEN;\r\nexport let placeDefenderPiece;\r\nexport let whiteScore;\r\nexport let blackScore;\r\nexport let currentTurn;\r\n\r\n\r\nexport default function sketch(p5) {\r\n\r\n    p5.myCustomRedrawAccordingToNewPropsHandler = (props) => {\r\n        if (props.gameMode) {\r\n            gameMode = props.gameMode;\r\n        }\r\n        if (props.playingAs) {\r\n            playingAs = props.playingAs;\r\n        }\r\n        if (props.sendMoveToServer) {\r\n            sendMoveToServer = props.sendMoveToServer;\r\n        }\r\n        if (props.startingFEN) {\r\n            startingFEN = props.startingFEN\r\n        }\r\n        if (props.placeDefenderPiece) {\r\n            placeDefenderPiece = props.placeDefenderPiece;\r\n        }\r\n        if (props.whiteScore!==undefined) {\r\n            whiteScore = props.whiteScore;\r\n        }\r\n        if (props.blackScore!==undefined) {\r\n            blackScore = props.blackScore;\r\n        }\r\n        if (props.currentTurn) {\r\n            currentTurn = props.currentTurn;\r\n        }\r\n    }\r\n\r\n\r\n    p5.preload = function () {\r\n        Font = p5.loadFont(myFont);\r\n        for (let key in pieces_dict) {\r\n            let value = pieces_dict[key];\r\n            textures[value.toUpperCase()] = p5.loadImage(images['w' + value + \".png\"]['default']);\r\n            textures[value] = p5.loadImage(images[value + \".png\"]['default']);\r\n        }\r\n    }\r\n\r\n    p5.mousePressed = function () {\r\n        for (let i = 0; i < board.grid.length; i++) {\r\n            let piece = board.grid[i];\r\n            if (piece.isIntersecting()) {\r\n                piece.dragging = 1;\r\n            }\r\n        }\r\n\r\n\r\n        if (gameMode === '1' && board.SetupState > -1) {\r\n            for (let i = 0; i < board.gameMode2_grid.length; i++) {\r\n                let piece = board.gameMode2_grid[i];\r\n                if (piece.isIntersecting()) {\r\n                    piece.dragging = 1;\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n    p5.mouseReleased = function () {\r\n        if (gameMode === '1' && board.SetupState > -1) {\r\n            add_piece();\r\n        }\r\n        make_a_move();\r\n        if (board.SetupState === -1) {\r\n            Generate_opponent_moves(board.grid);\r\n            check_if_check();\r\n            Generate_moves(board.grid, board.check, \"released\");\r\n        }\r\n    }\r\n\r\n    function calculatePixelPositions() {\r\n        pixel_positions = [];\r\n        Checkboard = [];\r\n\r\n        for (let i = 0; i < rows; i++) {\r\n            for (let j = 0; j < cols; j++) {\r\n                let square = new CSquare(i, j, size, p5);\r\n                Checkboard.push(square);\r\n                if (playingAs === 'b') {\r\n                    pixel_positions.push([Checkboard_size - size - j * size, Checkboard_size - size - i * size]);\r\n                } else {\r\n                    pixel_positions.push([j * size, i * size]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    p5.setup = function () {\r\n        board = new Board(p5);\r\n        generate_pos_to_stocknot_dict();\r\n\r\n        if (gameMode === \"1\") {\r\n            canvas_width = game_mode_defender_width;\r\n        }\r\n        canvas = p5.createCanvas(canvas_width, canvas_height, p5.WEBGL);\r\n        if (gameMode === '0') {\r\n            if (startingFEN !== undefined) {\r\n                board.FEN = startingFEN\r\n            } else {\r\n                board.FEN = default_FEN;\r\n            }\r\n\r\n        } else {\r\n            if (startingFEN !== undefined) {\r\n                board.FEN = startingFEN;\r\n            } else {\r\n                board.FEN = default_FEN_Gamemode_2;\r\n            }\r\n\r\n            if(blackScore!==undefined && whiteScore!==undefined){\r\n                playingAs==='w' ? board.SetupState=whiteScore : board.SetupState=blackScore;\r\n            }\r\n            else{\r\n                board.SetupState=50;\r\n            }\r\n        }\r\n        if(currentTurn !==undefined){\r\n            board.color_to_move=currentTurn;\r\n            console.log(currentTurn);\r\n        }else{\r\n            console.log(\"nie dostaem\");\r\n            board.color_to_move=\"w\";\r\n        }\r\n        board.load_FEN();\r\n        calculatePixelPositions();\r\n        count_squares_to_edge();\r\n        Generate_moves(board.grid, board.check, \"setup\");\r\n        canvas.style('width', '100%');\r\n        canvas.style('height', '100%');\r\n        readjustCanvas(); //weird but fixes canvas always setting up as game defender DO NOT TOUCH\r\n    };\r\n\r\n    function readjustCanvas() {\r\n        shelf_size = canvas_width / 3;\r\n        //full screen mode\r\n        let resizeTo = p5.windowWidth;\r\n        //for screen widths bigger then max size, set to max size\r\n        if (p5.windowWidth > max_canvas_size) resizeTo = max_canvas_size;\r\n\r\n\r\n        canvas_width = resizeTo;\r\n        if (gameMode === \"1\") {\r\n            canvas_width = canvas_width + 50 + canvas_width / 3;\r\n        }\r\n\r\n        canvas_height = resizeTo;\r\n        Checkboard_size = canvas_height;\r\n        size = Checkboard_size / 8;\r\n        //resize piece textures\r\n        board.grid.forEach((piece) => {\r\n                piece.scaled_size = size - scalar;\r\n            }\r\n        )\r\n        let i = 0\r\n        board.gameMode2_grid.forEach((piece) => {\r\n                i += 1\r\n                piece.scaled_size = size - scalar;\r\n                piece.x = Checkboard_size + shelf_size / 2 - size * 0.666\r\n                piece.y = gameMode2_Margin * size * i\r\n                piece.old_x = Checkboard_size + shelf_size / 2 - size * 0.666\r\n                piece.old_y = gameMode2_Margin * size * i\r\n            }\r\n        )\r\n        textsize = size / 1.5\r\n\r\n        canvas.resize(canvas_width, canvas_height);\r\n        calculatePixelPositions();\r\n        board.load_FEN();\r\n        canvas.style('width', '100%');\r\n        canvas.style('height', '100%');\r\n    }\r\n\r\n    p5.windowResized = function () {\r\n        readjustCanvas();\r\n    }\r\n\r\n    p5.draw = function () {\r\n        p5.background(255);\r\n        p5.translate(-canvas_width / 2, -canvas_height / 2);\r\n\r\n        for (let i = 0; i < Checkboard.length; i++) {\r\n            Checkboard[i].drawSquares();\r\n        }\r\n        board.draw_board();\r\n\r\n    };\r\n\r\n\r\n};\r\n","import {cols, rows,size,playingAs} from \"./Main\";\r\n\r\nfunction index(i, j) {\r\n    if (i < 0 || j < 0 || i > cols - 1 || j > rows - 1) {\r\n        return -1;\r\n    }\r\n    return i + j * cols; //changing two dimensional index to one dimensional\r\n}\r\nexport default class CSquare {\r\n    constructor(x, y, size,p5) {\r\n        this.p5=p5;\r\n        this.size = size;\r\n        this.i = x;\r\n        this.j = y;\r\n        this.x = x * size;\r\n        this.y = y * size;\r\n        this.y2 = this.y + size;\r\n        this.x2 = this.x + size;\r\n        let parityFlag = this.j % 2;\r\n\r\n            if (index(this.i, this.j) % 2 === 0) {\r\n                parityFlag === 0 ? this.state = \"white\" : this.state = \"black\";\r\n            } else {\r\n                parityFlag === 0 ? this.state = \"black\" : this.state = \"white\";\r\n            }\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    drawSquares() {\r\n        if (this.state === \"black\") {\r\n            this.p5.push();\r\n            this.p5.noStroke();\r\n            this.p5.fill(140, 162, 173, 255);\r\n            this.p5.square(this.x, this.y, size);\r\n            this.p5.pop();\r\n        }\r\n        if (this.state === \"white\") {\r\n            this.p5.push();\r\n            this.p5.noStroke();\r\n            this.p5.fill(222, 227, 230, 255);\r\n            this.p5.square(this.x, this.y, size);\r\n            this.p5.pop();\r\n        }\r\n\r\n    }\r\n}","import {\r\n    board,\r\n    pixel_positions,\r\n    size,\r\n    playingAs,\r\n    canvas_height,\r\n    canvas_width,\r\n    rows,\r\n    cols,\r\n    Checkboard,\r\n    Checkboard_size,\r\n    pieces_dict,\r\n    myFont,\r\n    Font,\r\n    textures,\r\n    scalar,\r\n    shelf_size, gameMode2_Margin, textsize, gameMode, currentTurn,\r\n} from \"./Main\";\r\nimport Piece from \"./Piece\";\r\nimport {check_if_check, Generate_moves, Generate_opponent_moves, moves} from \"./moves\";\r\nimport CSquare from \"./CSquare\";\r\nimport {forEach} from \"react-bootstrap/ElementChildren\";\r\n\r\n\r\nexport const default_FEN = \"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1\";\r\nexport const default_FEN_Gamemode_2 = \"8/8/8/8/8/8/8/8 w - - 0 1\";\r\nexport default class Board {\r\n\r\n    constructor(p5) {\r\n        this.p5 = p5;\r\n        this.grid = [];\r\n        for (let i = 0; i < 64; i++) {\r\n            this.grid.push(new Piece(\"e\", this.p5));\r\n        }\r\n\r\n        this.gameMode2_grid = [];\r\n        let i = 0;\r\n\r\n\r\n        for (var key in pieces_dict) {\r\n            i += 1;\r\n            if (playingAs === 'b') {\r\n                this.gameMode2_grid.push(new Piece(pieces_dict[key], this.p5, Checkboard_size + shelf_size / 2 - size * 0.666, gameMode2_Margin * size * i));\r\n            } else {\r\n                this.gameMode2_grid.push(new Piece(pieces_dict[key].toUpperCase(), this.p5, Checkboard_size + shelf_size / 2 - size * 0.666, gameMode2_Margin * size * i));//dont ask why 0.666\r\n                this.gameMode2_grid[this.gameMode2_grid.length - 1].color = 'w'; //TODO w konstrukotrze koloru nie da sie podac XD\r\n            }\r\n\r\n        }\r\n        this.FEN = \"\";\r\n        this.load_FEN()\r\n        this.color_to_move = \"\";\r\n        this.lastPawnMoveOrCapture = 0;\r\n        this.lastmove = [-1, -1];\r\n        this.numOfMoves = 1;\r\n        this.check = 0;\r\n        this.enPassant = \"-\";\r\n        this.SetupState = 0;\r\n        this.waveFunction=0; //used for calculating wave animation timing\r\n    }\r\n\r\n\r\n    get_pos(i, j) {\r\n        let x;\r\n        let y;\r\n        if (playingAs === 'b') {\r\n            x = Checkboard_size - size - i * size;\r\n            y = Checkboard_size - size - j * size;\r\n        } else {\r\n            x = i * size;\r\n            y = j * size;\r\n        }\r\n\r\n        return [x, y]\r\n    }\r\n\r\n    set_FEN(FEN) {\r\n        this.FEN = FEN;\r\n    }\r\n\r\n    set_FEN_from_grid() {\r\n        let empty_spaces = 0;\r\n        let temp_fen = \"\";\r\n        for (let i = 0; i < board.grid.length; i++) {\r\n            if (i % 8 === 0 && i !== 0) {\r\n                if (empty_spaces !== 0) {\r\n                    temp_fen += empty_spaces.toString();\r\n                    empty_spaces = 0;\r\n                }\r\n                temp_fen += '/';\r\n            }\r\n            if (board.grid[i].type_letter !== 'e') {\r\n                if (empty_spaces !== 0) {\r\n                    temp_fen += empty_spaces.toString();\r\n                    empty_spaces = 0;\r\n                }\r\n                temp_fen += board.grid[i].type_letter;\r\n            } else {\r\n                empty_spaces++;\r\n            }\r\n\r\n        }\r\n        if (empty_spaces !== 0) {\r\n            temp_fen += empty_spaces.toString();\r\n            empty_spaces = 0;\r\n        }\r\n\r\n        //TODO\r\n        //sprawdzic czy krl sie juz ruszy i wieza czy sie da roszade zrobic i wtedy dopisa j do fena, tak samo ktry jest teraz ruch\r\n        //split 2 - roszady\r\n        //split 3 - en passant\r\n        temp_fen += \" \" + this.color_to_move + \" \" + this.FEN.split(' ')[2] + \" \" + this.enPassant + \" \" + this.lastPawnMoveOrCapture + \" \" + this.numOfMoves;\r\n        this.FEN = temp_fen;\r\n        console.log(\"AAAAA \" + temp_fen);\r\n        this.load_FEN();\r\n    }\r\n\r\n    set_FEN_by_move(StartingSquare, TargetSquare) {\r\n\r\n\r\n        let temp = board.grid[StartingSquare];\r\n        board.grid[StartingSquare] = board.grid[TargetSquare];\r\n        board.grid[TargetSquare] = temp;\r\n        board.grid[TargetSquare].old_x = pixel_positions[TargetSquare][0];\r\n        board.grid[TargetSquare].old_y = pixel_positions[TargetSquare][1];\r\n\r\n\r\n        board.change_Turn();\r\n        //print_board2();\r\n        this.set_FEN_from_grid()\r\n    }\r\n\r\n    //does the same thing as set_FEN_by_move but also generates moves\r\n    set_FEN_by_rejected_move(StartingSquare, TargetSquare) {\r\n        //TODO highlight rejected position\r\n\r\n\r\n        let temp = board.grid[StartingSquare];\r\n        board.grid[StartingSquare] = board.grid[TargetSquare];\r\n        board.grid[TargetSquare] = temp;\r\n        board.grid[TargetSquare].old_x = pixel_positions[TargetSquare][0];\r\n        board.grid[TargetSquare].old_y = pixel_positions[TargetSquare][1];\r\n\r\n        console.log(board.color_to_move)\r\n        board.change_Turn();\r\n        Generate_opponent_moves(board.grid);\r\n        Generate_moves(board.grid, board.check, \"after_opponent\");\r\n        //print_board2();\r\n        this.set_FEN_from_grid()\r\n    }\r\n\r\n    load_FEN() {\r\n        let split_FEN = this.FEN.split(' ')\r\n        this.color_to_move = split_FEN[1];   //setting color to move from fen\r\n        for (let i = 0; i < 64; i++) {\r\n            this.grid[i] = (new Piece(\"e\", this.p5));\r\n        }\r\n\r\n        let fenBoard = split_FEN[0];   // taking only pieces position (FEN.split[0]), discarding game info\r\n        let file = 0;\r\n        let rank = 0;\r\n        for (var i = 0; i < fenBoard.length; i++) {\r\n            let e = fenBoard[i];\r\n            if (e === '/') {\r\n                rank = 0;\r\n                file++;\r\n            } else {\r\n                if (Number.isInteger(Number(e))) {\r\n                    rank += Number(e);\r\n                } else {\r\n                    let temp = this.get_pos(rank, file);\r\n                    this.grid[file * 8 + rank].type = e;\r\n                    this.grid[file * 8 + rank].type_letter = e;\r\n                    e === e.toUpperCase() ? this.grid[file * 8 + rank].color = 'w' : this.grid[file * 8 + rank].color = 'b';\r\n                    this.grid[file * 8 + rank].x = temp[0];\r\n                    this.grid[file * 8 + rank].y = temp[1];\r\n                    this.grid[file * 8 + rank].old_x = temp[0];\r\n                    this.grid[file * 8 + rank].old_y = temp[1];\r\n                    if ((file === 6 && this.grid[file * 8 + rank].color === 'w')||(file === 1 && this.grid[file * 8 + rank].color === 'b')) {\r\n                        this.grid[file * 8 + rank].did_move = 0;\r\n                    }else{\r\n                        this.grid[file * 8 + rank].did_move = 1;\r\n                    }\r\n                    rank++;\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    //signals to the player which side of the board he's operating\r\n    highlightBoardSide(side,highlight_color){\r\n        let modifier=0; //decides which side is being drawn, start drawing on sqr 0 for black, sqr 32 for white\r\n        if (side==='w'){ modifier=32;}\r\n        for (let i = modifier; i < board.grid.length-(modifier+board.grid.length/2)%board.grid.length  ; i++) {\r\n            let highlight = pixel_positions[i];\r\n            this.p5.push()\r\n            this.p5.noStroke();\r\n            this.p5.translate(5,5)\r\n            let squareColor = this.p5.color(highlight_color.r, highlight_color.g, highlight_color.b);\r\n            squareColor.setAlpha(48);\r\n            this.p5.fill(squareColor);\r\n            this.p5.rect(highlight[0], highlight[1], size-10, size-10);\r\n            this.p5.pop();\r\n\r\n        }\r\n    }\r\n\r\n    highlightAroundPieces(side,highlight_color){\r\n        for (let k = 0; k < this.grid.length; k++) {\r\n            let piece = this.grid[k];\r\n            if (piece.color===side){\r\n                this.p5.push()\r\n                let squareColor = this.p5.color(highlight_color.r, highlight_color.g, highlight_color.b);\r\n                squareColor.setAlpha(48);\r\n                this.p5.background(squareColor); // translucent background (creates trails)\r\n                // make a x and y grid of ellipses\r\n                for (let x = 0; x <= this.p5.width; x = x + 30) {\r\n                    for (let y = 0; y <= this.p5.height; y = y + 30) {\r\n                        // starting point of each circle depends on mouse position\r\n                        const xAngle = this.p5.map(this.p5.mouseX, 0, this.p5.width, -4 *  this.p5.PI, 4 *  this.p5.PI , true);\r\n                        const yAngle = this.p5.map(this.p5.mouseY, 0, this.p5.height, -4 *  this.p5.PI , 4 *  this.p5.PI , true);\r\n                        // and also varies based on the particle's location\r\n                        const angle = xAngle * (x / this.p5.width) + yAngle * (y / this.p5.height);\r\n\r\n                        // each particle moves in a circle\r\n                        const myX = x + 20 * Math.cos(2 *  this.p5.PI * this.waveFunction  + angle);\r\n                        const myY = y + 20 * Math.sin(2 *  this.p5.PI * this.waveFunction  + angle);\r\n\r\n                        this.p5.ellipse(myX, myY, 10); // draw particle\r\n                    }\r\n                    this.p5.pop();\r\n                }\r\n                this.waveFunction = this.waveFunction + 0.01; // update time\r\n            }\r\n\r\n\r\n        }\r\n    }\r\n\r\n    draw_board() {\r\n        let i = 0;\r\n        let dragged_index = -1;\r\n        let dragged_index2 = -1;\r\n        let j = 0;\r\n\r\n        if(currentTurn===playingAs){\r\n            let color={r:105,g:172,b:162};\r\n            //this.highlightBoardSide(playingAs,color);\r\n        }\r\n\r\n        if(currentTurn===playingAs && this.lastmove[0]!==-1){\r\n            this.p5.push()\r\n            this.p5.noStroke();\r\n            //this.p5.translate(0, 3*size/4);\r\n            this.p5.fill(this.p5.color(108, 169, 82,255/2));\r\n            let startHighlight = pixel_positions[this.lastmove.StartSquare];\r\n            let endHighlight = pixel_positions[this.lastmove.EndSquare];\r\n            this.p5.rect(startHighlight[0],startHighlight[1],size,size)\r\n            this.p5.fill(this.p5.color(108, 169, 82,255/2));\r\n            this.p5.rect(endHighlight[0],endHighlight[1],size,size)\r\n            this.p5.pop();\r\n        }\r\n\r\n\r\n        for (let i = 0; i < moves.length; i++) {\r\n            let type = moves[i].type;\r\n            if (board.grid[moves[i].StartSquare].dragging) {\r\n                let highlight = pixel_positions[moves[i].EndSquare];\r\n                if (type !== 'C') {\r\n                    this.p5.push()\r\n                    this.p5.translate(size / 2, size / 2);\r\n                    this.p5.noStroke();\r\n                    this.p5.fill(this.p5.color(66, 129, 74));\r\n                    this.p5.circle(highlight[0], highlight[1], size / 3);\r\n                    this.p5.pop();\r\n                } else if (type === 'C') {\r\n                    this.p5.push()\r\n                    //this.p5.translate(size / 2, size / 2);\r\n                    this.p5.stroke(66, 129, 74);\r\n                    this.p5.strokeWeight(-6);\r\n                    this.p5.noFill();\r\n                    this.p5.rect(highlight[0], highlight[1], size, size);\r\n                    this.p5.pop();\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        for (let k = 0; k < this.grid.length; k++) {\r\n            let piece = this.grid[k];\r\n            if (piece.type_letter !== 'e') {\r\n                if (piece.drag()) {\r\n                    piece.movePiece();\r\n                    dragged_index = k;\r\n                } else {\r\n                    piece.draw_piece();\r\n                }\r\n                i++;\r\n                if (i % 8 === 0) {      //TODO co to wogole jest to i XDDDDDD\r\n                    i = 0;\r\n                }\r\n            } else {\r\n                i++;\r\n                if (i % 8 === 0) {\r\n                    i = 0;\r\n                }\r\n            }\r\n        }\r\n        if (dragged_index !== -1) {\r\n            this.grid[dragged_index].draw_piece();\r\n        }\r\n        //images \"hidden\" under pieces, will apear when piece is dragged or when state is low enough\r\n        let rew = 0;\r\n        for (var texture in textures) {\r\n            rew += 1;\r\n            if (playingAs === 'w' && rew % 2 === 1) {\r\n                this.p5.push()\r\n                this.p5.translate(scalar / 2, scalar / 2);\r\n                this.p5.tint(255, 127);\r\n                this.p5.image(textures[texture], Checkboard_size + shelf_size / 2 - size * 0.666, gameMode2_Margin * size * (rew + 1) / 2, size - scalar, size - scalar);\r\n                this.p5.pop()\r\n            } else if (playingAs === 'b' && rew % 2 === 0) {\r\n\r\n                this.p5.push()\r\n                this.p5.translate(scalar / 2, scalar / 2);\r\n                this.p5.tint(200, 127);\r\n                this.p5.image(textures[texture], Checkboard_size + shelf_size / 2 - size * 0.666, gameMode2_Margin * size * rew / 2, size - scalar, size - scalar);\r\n                this.p5.pop()\r\n\r\n            }\r\n\r\n\r\n        }\r\n        rew = 0;\r\n\r\n        //making pieces for gamemode2 purposes they only appear above the image for setupstate\r\n        if (this.SetupState > -1) {\r\n\r\n            this.p5.push();\r\n            this.p5.textFont(Font);\r\n            this.p5.textSize(textsize);\r\n            this.p5.fill(0, 0, 0);\r\n            this.p5.text(this.SetupState.toString(), Checkboard_size + shelf_size / 2 - textsize * 0.833, size);\r\n            this.p5.pop();\r\n            this.GameMode2_checkState()\r\n            for (let z = 0; z < this.gameMode2_grid.length; z++) {\r\n\r\n                if (this.gameMode2_grid[z].drag()) {\r\n                    this.gameMode2_grid[z].movePiece();\r\n                    dragged_index2 = z;\r\n                } else {\r\n                    this.gameMode2_grid[z].draw_piece();\r\n                }\r\n                if (dragged_index2 !== -1) {\r\n                    this.gameMode2_grid[dragged_index2].draw_piece();\r\n                }\r\n\r\n            }\r\n\r\n        } else if (this.SetupState < 0 && this.gameMode2_grid.length === 1) {\r\n            this.gameMode2_grid = [];\r\n        }\r\n\r\n    }\r\n\r\n    change_Turn() {\r\n        this.color_to_move === 'b' ? this.color_to_move = 'w' : this.color_to_move = 'b';\r\n    }\r\n\r\n\r\n    GameMode2_checkState() {\r\n\r\n        if (this.SetupState < 1 && this.gameMode2_grid.length > 1) {\r\n            this.gameMode2_grid.pop();\r\n        }\r\n        if (this.SetupState < 3 && this.gameMode2_grid.length > 2) {\r\n            this.gameMode2_grid.pop();\r\n        }\r\n        if (this.SetupState < 3 && this.gameMode2_grid.length > 3) {\r\n            this.gameMode2_grid.pop();\r\n            this.gameMode2_grid.pop();\r\n        }\r\n        if (this.SetupState < 5 && this.gameMode2_grid.length > 4) {\r\n            this.gameMode2_grid.pop();\r\n        }\r\n        if (this.SetupState < 9 && this.gameMode2_grid.length > 5) {\r\n            this.gameMode2_grid.pop();\r\n        }\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/Montserrat-Regular.3cd78665.ttf\";","//for gamemode 2\r\nimport {board, pixel_positions, placeDefenderPiece, playingAs} from \"./Main\";\r\nimport Piece from \"./Piece\";\r\n\r\nexport const points_dict = {\r\n    'k': '0',\r\n    'p': '1',\r\n    'n': '3',\r\n    'b': '3',\r\n    'r': '5',\r\n    'q': '9',\r\n    'K': '0',\r\n    'P': '1',\r\n    'N': '3',\r\n    'B': '3',\r\n    'R': '5',\r\n    'Q': '9'\r\n};\r\n\r\nexport function add_piece() {\r\n    let added_piece = undefined;\r\n\r\n    for (let i = 0; i < board.gameMode2_grid.length; i++) {\r\n        let piece = board.gameMode2_grid[i];\r\n        if (piece.dragging === 1 && piece.type_letter !== 'e' && piece.type_letter !== 'k' && piece.type_letter !== 'K') {\r\n            let Target_Square_position = piece.get_closest_position();\r\n            let TargetSquare = pixel_positions.indexOf(Target_Square_position);\r\n            console.log(TargetSquare)\r\n            if (Target_Square_position[0] !== -1 && playingAs === board.color_to_move&&Is_On_Good_Square(TargetSquare)) {\r\n                if (board.grid[TargetSquare].type_letter === 'e') {\r\n                    board.SetupState -= parseInt(points_dict[piece.type_letter], 10);\r\n                    let clonedPiece = new Piece(piece.type_letter, board.p5, 100, 100);\r\n                    clonedPiece.color = piece.color;\r\n                    board.grid[TargetSquare] = clonedPiece;\r\n                    board.set_FEN_from_grid();\r\n                    added_piece = clonedPiece;\r\n                }\r\n            }\r\n\r\n        }\r\n        if (piece.dragging === 1 && piece.type_letter !== 'e' && board.SetupState === 0) {\r\n            let Target_Square_position = piece.get_closest_position();\r\n            let TargetSquare = pixel_positions.indexOf(Target_Square_position);\r\n            console.log(\"BIG SMOKE\");\r\n            console.log(playingAs);\r\n            console.log(board.color_to_move)\r\n            console.log(playingAs === board.color_to_move)\r\n            if (Target_Square_position[0] !== -1 && playingAs === board.color_to_move&&Is_On_Good_Square(TargetSquare)) {\r\n                if (board.grid[TargetSquare].type_letter === 'e') {\r\n                    let clonedPiece = new Piece(piece.type_letter, board.p5, 100, 100);\r\n                    clonedPiece.color = piece.color;\r\n                    board.grid[TargetSquare] = clonedPiece;\r\n                    board.SetupState = -1;\r\n                    board.set_FEN_from_grid();\r\n                    added_piece = clonedPiece;\r\n                }\r\n            }\r\n\r\n\r\n        }\r\n        piece.snap_back();\r\n        piece.dragging = 0;\r\n    }\r\n\r\n    if (added_piece) {\r\n        let spent_points = parseInt(points_dict[added_piece.type_letter], 10);\r\n        placeDefenderPiece(board.FEN, spent_points);\r\n        board.change_Turn();\r\n    }\r\n\r\n}\r\n\r\nfunction Is_On_Good_Square(TargetSquare) {\r\n    if (playingAs === 'b') {\r\n        return TargetSquare < 24;\r\n    } else {\r\n        return TargetSquare >39;\r\n    }\r\n}","import {board, gameMode, pixel_positions, playingAs, pos_to_stocknot_dict, sendMoveToServer} from \"./Main\";\r\nimport {simulate_moves_for_ally} from \"./SimulateMoves\";\r\n\r\n\r\nexport var opponent_moves = [];\r\nexport var moves = [];\r\nexport var future_opponent_moves = [];\r\nexport var future_opponent_moves2 = [];\r\nexport var future_moves = [];\r\nexport var future_moves2 = [];\r\n\r\n\r\nclass move {\r\n    constructor(starting_square, ending_square, type) {\r\n        this.StartSquare = starting_square;\r\n        this.EndSquare = ending_square;\r\n        this.type = arguments.length === 3 ? type : \"n\";\r\n        // typy ruchow R - roszada dluga, r - roszada krotka , C - capture, P - pion wysuniety do en passant\r\n        //CP - zbicie przez en passant\r\n    }\r\n}\r\n\r\nconst Directions = [8, -8, -1, 1, 7, -7, 9, -9]; //down up left right, down left, up left, down right, up right\r\nconst Numbers_of_squares_to_edge = [];\r\n\r\nexport function count_squares_to_edge() {\r\n    for (let i = 0; i < 8; i++) {\r\n        for (let j = 0; j < 8; j++) {\r\n            let Up = 7 - j;\r\n            let Down = j;\r\n            let Right = 7 - i;\r\n            let Left = i;\r\n\r\n            let matrix_to_index = j * 8 + i;\r\n\r\n            Numbers_of_squares_to_edge[matrix_to_index] =\r\n                [Up, Down, Left, Right, Math.min(Up, Left), Math.min(Down, Right), Math.min(Up, Right), Math.min(Down, Left)];\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\nexport function Generate_moves(grid, check, gtype) {\r\n    let ally_moves = [];\r\n\r\n    console.log(\"playingsas\" + playingAs)\r\n    for (let startSquare = 0; startSquare < 64; startSquare++) {\r\n        let p = grid[startSquare];\r\n        if (p.color === board.color_to_move && check === 0 && board.color_to_move === playingAs) { //TODO removed  && board.color_to_move === playingAs for now\r\n            let type = p.type_letter;\r\n            if (type === 'b' || type === 'r' || type === 'q' || type === 'B' || type === 'R' || type === 'Q') {\r\n                Get_long_moves(startSquare, p, grid, ally_moves);\r\n            } else if (type === 'p' || type === 'P') {\r\n                Get_Pawn_moves(startSquare, p, grid, ally_moves);\r\n            } else if (type === 'n' || type === 'N') {\r\n                Get_Knight_moves(startSquare, p, grid, ally_moves);\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n    for (let startSquare = 0; startSquare < 64; startSquare++) {\r\n        let p = grid[startSquare];\r\n        if (p.color === board.color_to_move) {\r\n            let type = p.type_letter;\r\n            if (type === 'k' || type === 'K') {\r\n                Get_king_moves(startSquare, p, grid, ally_moves);\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    if (gtype !== \"future\" && gtype !== \"future2\") {\r\n        simulate_moves_for_ally(board.grid, ally_moves);\r\n        // simulate_moves_for_opponent(board.grid,ally_moves);\r\n    }\r\n    if (check === 1 && ally_moves.length === 0) {\r\n\r\n        if (check === 1 && ally_moves.length === 0 && board.color_to_move === playingAs) {\r\n            console.log(\"tu szachmat\");\r\n        }\r\n\r\n\r\n    }\r\n    if (board.check === 1 && ally_moves.length !== 0) {\r\n        board.check = 0;\r\n    }\r\n    if (gtype === \"future\") {\r\n        future_moves = ally_moves;\r\n    } else if (gtype === \"future2\") {\r\n        future_moves2 = ally_moves;\r\n    } else {\r\n        moves = ally_moves;\r\n    }\r\n    if (playingAs !== board.color_to_move)\r\n    {\r\n        moves = [];\r\n    }\r\n\r\n}\r\n\r\n\r\nexport function Generate_opponent_moves(grid, gtype) { //used for checks\r\n    let topponent_moves = [];\r\n\r\n    for (let startSquare = 0; startSquare < 64; startSquare++) {\r\n        let p = grid[startSquare];\r\n        if (p.color !== board.color_to_move) {\r\n            let type = p.type_letter;\r\n            if (type === 'b' || type === 'r' || type === 'q' || type === 'B' || type === 'R' || type === 'Q') {\r\n                Get_long_moves(startSquare, p, grid, topponent_moves);\r\n            } else if (type === 'p' || type === 'P') {\r\n                Get_Pawn_moves(startSquare, p, grid, topponent_moves);\r\n            } else if (type === 'k' || type === 'K') {\r\n                Get_king_moves(startSquare, p, grid, topponent_moves);\r\n            } else if (type === 'n' || type === 'N') {\r\n                Get_Knight_moves(startSquare, p, grid, topponent_moves);\r\n            }\r\n        }\r\n\r\n    }\r\n    if (gtype === \"future\") {\r\n        future_opponent_moves = topponent_moves;\r\n    } else if (gtype === \"future2\") {\r\n        future_opponent_moves2 = topponent_moves;\r\n    } else {\r\n        opponent_moves = topponent_moves;\r\n    }\r\n}\r\n\r\n\r\nfunction Get_Pawn_moves(startSquare, piece, grid, t_moves) {\r\n    let Squares_to_end = Numbers_of_squares_to_edge[startSquare][0];\r\n    //TODO can go up to tak naprawde ile jeest do konca krawedzi squarow muszE to zmienic xD\r\n    piece.color === 'w' ? Squares_to_end = Numbers_of_squares_to_edge[startSquare][1] : Squares_to_end = Numbers_of_squares_to_edge[startSquare][0];\r\n    let Target = 0;\r\n    if (Squares_to_end > 1 && piece.did_move === 0) {\r\n        for (let i = 0; i < 2; i++) {\r\n            piece.color === 'w' ? Target = startSquare + Directions[1] * (i + 1) : Target = startSquare + Directions[0] * (i + 1)\r\n            let Piece_on_Target = grid[Target];\r\n            if (Piece_on_Target.type_letter !== 'e') {\r\n                break;\r\n            } else {\r\n                if (i === 0) {\r\n                    t_moves.push(new move(startSquare, Target));\r\n                } else {\r\n                    t_moves.push(new move(startSquare, Target, 'P'));\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n    } else if (Squares_to_end > 0 && piece.did_move === 1) {\r\n        piece.color === 'w' ? Target = startSquare + Directions[1] : Target = startSquare + Directions[0];\r\n        let Piece_on_Target = grid[Target];\r\n        if (Piece_on_Target.type_letter === 'e') {\r\n            t_moves.push(new move(startSquare, Target));\r\n        }\r\n    }\r\n\r\n\r\n//5 i 7\r\n    //EN PASSEANT\r\n    if (board.lastmove.type === 'P') {\r\n        let Target = board.lastmove.EndSquare;\r\n        let numbers_to_edge;        //TODO napraw zeby nie dalo sie bi z rogw planszy XD\r\n        piece.color === 'w' ? numbers_to_edge = Numbers_of_squares_to_edge[startSquare][2] : numbers_to_edge = Numbers_of_squares_to_edge[startSquare][3];\r\n        if (Math.abs(startSquare - Target) === 1) {\r\n            piece.color === 'w' ? Target = Target + Directions[1] : Target = Target + Directions[0];\r\n            t_moves.push(new move(startSquare, Target, 'CP'));\r\n        }\r\n    }\r\n\r\n\r\n    //bicie pionow oponenta\r\n    if (Squares_to_end > 0) {\r\n        piece.color === 'w' ? Target = startSquare + Directions[5] : Target = startSquare + Directions[4];\r\n        let Piece_on_Target = grid[Target];\r\n\r\n        if (Piece_on_Target.type_letter !== 'e' && Piece_on_Target.color !== piece.color && Numbers_of_squares_to_edge[startSquare][2] > 0) {\r\n\r\n            t_moves.push(new move(startSquare, Target, 'C'));\r\n\r\n        }\r\n        piece.color === 'w' ? Target = startSquare + Directions[7] : Target = startSquare + Directions[6];\r\n        Piece_on_Target = grid[Target];\r\n        if (Piece_on_Target.type_letter !== 'e' && Piece_on_Target.color !== piece.color && Numbers_of_squares_to_edge[startSquare][3] > 0) {\r\n\r\n            t_moves.push(new move(startSquare, Target, 'C'));\r\n\r\n        }\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nfunction check_if_promotion(piece, targetsquare) {\r\n    let is_on_last_square;\r\n    piece.color === 'w' ? is_on_last_square = Numbers_of_squares_to_edge[targetsquare][1] : is_on_last_square = Numbers_of_squares_to_edge[targetsquare][0];\r\n\r\n    if (is_on_last_square === 0) {\r\n        if (piece.color === 'w') {\r\n            piece.type = 'Q';\r\n            piece.type_letter = 'Q';\r\n        } else {\r\n            piece.type = 'q';\r\n            piece.type_letter = 'q';\r\n        }\r\n    }\r\n}\r\n\r\nfunction is_square_save(targetSquare) {\r\n    for (let i = 0; i < opponent_moves.length; i++) {\r\n        if (opponent_moves[i]['EndSquare'] === targetSquare && opponent_moves[i].type !== 'n') {\r\n            return -1\r\n        }\r\n    }\r\n    return 1\r\n}\r\n\r\nfunction Get_king_moves(startSquare, piece, grid, t_moves) {\r\n    //TODO\r\n    //Jak juz bede mial all to musze sprawdzac czy krol nie chce sie ruszyc na czyjes miejsce\r\n    for (let i = 0; i < Directions.length; i++) {\r\n        if (Numbers_of_squares_to_edge[startSquare][i] > 0) {\r\n            let Target = startSquare + Directions[i];\r\n            let Piece_on_Target = grid[Target];\r\n            if (!(Piece_on_Target.type_letter !== 'e' && Piece_on_Target.color === piece.color)) {\r\n                if (is_square_save(Target) === 1) {\r\n\r\n                    t_moves.push(new move(startSquare, Target));\r\n\r\n                    if (Piece_on_Target.color !== piece.color && Piece_on_Target.type_letter !== 'e') {\r\n\r\n                        t_moves[t_moves.length - 1].type = 'C';\r\n\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    if (piece.did_move === 0) {\r\n        let target = startSquare + Directions[3] * 3;\r\n        let Piece_on_Target = grid[target];\r\n        if (Piece_on_Target!=undefined && Piece_on_Target.type_letter !== 'e' && Piece_on_Target.did_move === 0) {\r\n            //roszada krtka\r\n            if (grid[startSquare + Directions[3] * 2].type_letter === 'e' && grid[startSquare + Directions[3]].type_letter === 'e')\r\n\r\n                t_moves.push(new move(startSquare, target - 1, 'r'));\r\n\r\n        }\r\n\r\n        //roszada dluga\r\n\r\n        target = startSquare + Directions[2] * 4;\r\n        Piece_on_Target = grid[target];\r\n        if (Piece_on_Target!=undefined && Piece_on_Target.type_letter !== 'e' && Piece_on_Target.did_move === 0) {\r\n            if (grid[startSquare + Directions[2] * 2].type_letter === 'e' && grid[startSquare + Directions[2]].type_letter === 'e'\r\n                && grid[startSquare + Directions[2] * 3].type_letter === 'e') {\r\n\r\n                t_moves.push(new move(startSquare, target + 2, 'R'));\r\n\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n    //\r\n\r\n}\r\n\r\n\r\nfunction Get_Knight_moves(startSquare, piece, grid, t_moves) {\r\n    //TODO\r\n    //to mozna skrocic forem, ale trzeba dac te *2+1 *2-1 etc do jakiegos dictonary i tez iterowac zzz dodaj tutaj tez move type C jak bedzie bicie, ale to jak juz zrobisz for\r\n    if (Numbers_of_squares_to_edge[startSquare][0] > 1 && Numbers_of_squares_to_edge[startSquare][3] > 0) {\r\n        let Target = startSquare + Directions[0] * 2 + 1;\r\n        let Piece_on_target = grid[Target];\r\n        if (!(Piece_on_target.type_letter !== 'e' && Piece_on_target.color === piece.color)) {\r\n\r\n            t_moves.push(new move(startSquare, Target));\r\n\r\n            if (Piece_on_target.type_letter !== 'e' && Piece_on_target.color !== piece.color) {\r\n\r\n                t_moves[t_moves.length - 1].type = 'C';\r\n\r\n\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    if (Numbers_of_squares_to_edge[startSquare][0] > 1 && Numbers_of_squares_to_edge[startSquare][2] > 0) {\r\n        let Target = startSquare + Directions[0] * 2 - 1;\r\n        let Piece_on_target = grid[Target];\r\n        if (!(Piece_on_target.type_letter !== 'e' && Piece_on_target.color === piece.color)) {\r\n\r\n            t_moves.push(new move(startSquare, Target));\r\n\r\n            if (Piece_on_target.type_letter !== 'e' && Piece_on_target.color !== piece.color) {\r\n\r\n                t_moves[t_moves.length - 1].type = 'C';\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    if (Numbers_of_squares_to_edge[startSquare][0] > 0 && Numbers_of_squares_to_edge[startSquare][3] > 1) {\r\n        let Target = startSquare + Directions[0] + 2;\r\n        let Piece_on_target = grid[Target];\r\n        if (!(Piece_on_target.type_letter !== 'e' && Piece_on_target.color === piece.color)) {\r\n\r\n            t_moves.push(new move(startSquare, Target));\r\n\r\n\r\n            if (Piece_on_target.type_letter !== 'e' && Piece_on_target.color !== piece.color) {\r\n\r\n                t_moves[t_moves.length - 1].type = 'C';\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    if (Numbers_of_squares_to_edge[startSquare][0] > 0 && Numbers_of_squares_to_edge[startSquare][2] > 1) {\r\n        let Target = startSquare + Directions[0] - 2;\r\n        let Piece_on_target = grid[Target];\r\n        if (!(Piece_on_target.type_letter !== 'e' && Piece_on_target.color === piece.color)) {\r\n\r\n            t_moves.push(new move(startSquare, Target));\r\n\r\n\r\n            if (Piece_on_target.type_letter !== 'e' && Piece_on_target.color !== piece.color) {\r\n\r\n                t_moves[t_moves.length - 1].type = 'C';\r\n\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    if (Numbers_of_squares_to_edge[startSquare][1] > 1 && Numbers_of_squares_to_edge[startSquare][3] > 0) {\r\n        let Target = startSquare + Directions[1] * 2 + 1;\r\n        let Piece_on_target = grid[Target];\r\n        if (!(Piece_on_target.type_letter !== 'e' && Piece_on_target.color === piece.color)) {\r\n\r\n            t_moves.push(new move(startSquare, Target));\r\n\r\n\r\n            if (Piece_on_target.type_letter !== 'e' && Piece_on_target.color !== piece.color) {\r\n\r\n                t_moves[t_moves.length - 1].type = 'C';\r\n\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    if (Numbers_of_squares_to_edge[startSquare][1] > 1 && Numbers_of_squares_to_edge[startSquare][2] > 0) {\r\n        let Target = startSquare + Directions[1] * 2 - 1;\r\n        let Piece_on_target = grid[Target];\r\n        if (!(Piece_on_target.type_letter !== 'e' && Piece_on_target.color === piece.color)) {\r\n\r\n            t_moves.push(new move(startSquare, Target));\r\n\r\n\r\n            if (Piece_on_target.type_letter !== 'e' && Piece_on_target.color !== piece.color) {\r\n\r\n                t_moves[t_moves.length - 1].type = 'C';\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    if (Numbers_of_squares_to_edge[startSquare][1] > 0 && Numbers_of_squares_to_edge[startSquare][2] > 1) {\r\n        let Target = startSquare + Directions[1] - 2;\r\n        let Piece_on_target = grid[Target];\r\n        if (!(Piece_on_target.type_letter !== 'e' && Piece_on_target.color === piece.color)) {\r\n\r\n            t_moves.push(new move(startSquare, Target));\r\n\r\n\r\n            if (Piece_on_target.type_letter !== 'e' && Piece_on_target.color !== piece.color) {\r\n\r\n                t_moves[t_moves.length - 1].type = 'C';\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    if (Numbers_of_squares_to_edge[startSquare][1] > 0 && Numbers_of_squares_to_edge[startSquare][3] > 1) {\r\n        let Target = startSquare + Directions[1] + 2;\r\n        let Piece_on_target = grid[Target];\r\n        if (!(Piece_on_target.type_letter !== 'e' && Piece_on_target.color === piece.color)) {\r\n\r\n            t_moves.push(new move(startSquare, Target));\r\n\r\n\r\n            if (Piece_on_target.type_letter !== 'e' && Piece_on_target.color !== piece.color) {\r\n\r\n                t_moves[t_moves.length - 1].type = 'C';\r\n\r\n\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\nfunction Get_long_moves(startSquare, piece, grid, t_moves) {\r\n    let Start = 0;\r\n    let End = 8;\r\n    if (piece.type_letter === 'b' || piece.type_letter === 'B') {\r\n        Start = 4;\r\n    } else if (piece.type_letter === 'R' || piece.type_letter === 'r') {\r\n        End = 4;\r\n    }\r\n\r\n    for (let i = Start; i < End; i++) {\r\n        // Loop we wszystkie kierunki i przez wszystkie mozliwe pola a do krawdzi lub napotkania oponenta\r\n        for (let j = 0; j < Numbers_of_squares_to_edge[startSquare][i]; j++) {\r\n            let Target = startSquare + Directions[i] * (j + 1);  // poruszanie sie o offset (taki fajny myk na 1d tablicy)\r\n            let Piece_on_Target = grid[Target];\r\n\r\n            //zablokowany przez zioma:\r\n            if (Piece_on_Target.type_letter !== 'e' && Piece_on_Target.color === piece.color) {\r\n                break;\r\n            }\r\n\r\n            t_moves.push(new move(startSquare, Target));\r\n\r\n\r\n            //przez oponenta\r\n            if (Piece_on_Target.type_letter !== 'e' && Piece_on_Target.color !== piece.color) {\r\n\r\n                t_moves[t_moves.length - 1].type = 'C';\r\n\r\n\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction get_move(StartSquare, TargetSquare) {\r\n    for (let i = 0; i < moves.length; i++) {\r\n        if (moves[i].StartSquare === StartSquare && moves[i].EndSquare === TargetSquare) {\r\n            return moves[i];\r\n        }\r\n    }\r\n    return board.lastmove;\r\n}\r\n\r\nfunction check_move(StartSquare, TargetSquare) {\r\n    for (let i = 0; i < moves.length; i++) {\r\n        if (moves[i].StartSquare === StartSquare && moves[i].EndSquare === TargetSquare) {\r\n            return moves[i];\r\n        }\r\n    }\r\n    return -1;\r\n}\r\n\r\nexport function get_pixel_position_from_pixel_positon_array(pos) { //thanks javascript\r\n    let position;\r\n    for (let i = 0; i < pixel_positions.length; i++) {\r\n        if (pos[0] === pixel_positions[i][0] && pos[1] === pixel_positions[i][1]) {\r\n            position = pixel_positions[i]\r\n            break;\r\n        }\r\n    }\r\n    return position\r\n}\r\n\r\nexport function Distance_between_points(x1, y1, x2, y2) {\r\n    let y = x2 - x1;\r\n    let x = y2 - y1;\r\n\r\n    return Math.sqrt(x * x + y * y);\r\n}\r\n\r\nexport function check_if_check() {\r\n\r\n    let enemyKingPos;\r\n\r\n    board.color_to_move === 'w' ? enemyKingPos = get_white_king_pos(board.grid) : enemyKingPos = get_black_king_pos(board.grid);\r\n\r\n\r\n    for (let i = 0; i < opponent_moves.length; i++) {\r\n        if (enemyKingPos === opponent_moves[i]['EndSquare']) {\r\n            board.check = 1;\r\n        }\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nexport function make_opponents_move(StartingSquare, TargetSquare, mType) {\r\n    let piece = board.grid[StartingSquare];\r\n\r\n    if (board.color_to_move === 'b') {\r\n        board.numOfMoves += 1;\r\n    }\r\n    board.lastPawnMoveOrCapture += 1;\r\n    if (mType === 'P') {\r\n        let EP_target2;\r\n        piece.color === 'w' ? EP_target2 = TargetSquare + Directions[0] : EP_target2 = TargetSquare + Directions[1];\r\n        board.enPassant = pos_to_stocknot_dict[EP_target2];\r\n    } else {\r\n        board.enPassant = '-';\r\n    }\r\n    //TODO zbijanko + moze case z tego zrob\r\n    if (mType === 'R' || mType === 'r') {\r\n        let Target;\r\n        let rook_pos;\r\n        mType === 'r' ? Target = StartingSquare + 2 : Target = StartingSquare - 2;\r\n        board.change_Turn();\r\n\r\n        board.set_FEN_by_move(StartingSquare, Target, true); //przenies krola\r\n        piece.snap();\r\n\r\n        mType === 'r' ? rook_pos = StartingSquare + 3 : rook_pos = StartingSquare - 4;\r\n        mType === 'r' ? Target = rook_pos - 2 : Target = rook_pos + 3;\r\n        board.set_FEN_by_move(rook_pos, Target, true); // przenies  wieze\r\n\r\n        board.grid[Target].did_move = 1;\r\n        board.grid[Target].snap_back();\r\n\r\n    } else {\r\n        if (mType === 'C') {\r\n            board.lastPawnMoveOrCapture = 0;\r\n            board.grid[TargetSquare].get_taken();\r\n        } else if (mType === 'CP') {\r\n            let EP_target;\r\n            piece.color === 'w' ? EP_target = TargetSquare + Directions[0] : EP_target = TargetSquare + Directions[1];\r\n            board.grid[EP_target].get_taken();\r\n            board.lastPawnMoveOrCapture = 0;\r\n\r\n        }\r\n\r\n        if (piece.type_letter === 'p' || piece.type_letter === 'P') {\r\n            check_if_promotion(piece, TargetSquare);\r\n            board.lastPawnMoveOrCapture = 0;\r\n        }\r\n        //kolejnosc wazna\r\n\r\n        board.set_FEN_by_move(StartingSquare, TargetSquare, true);\r\n        console.log(board.FEN);\r\n        piece.snap_back();\r\n    }\r\n    piece.did_move = 1;\r\n    moves = [];\r\n    opponent_moves = [];\r\n    board.lastmove = new move(StartingSquare, TargetSquare, mType);\r\n    Generate_opponent_moves(board.grid);\r\n    check_if_check();\r\n    Generate_moves(board.grid, board.check, \"after_opponent\");\r\n}\r\n\r\nexport function generate_pos_to_stocknot_dict() {\r\n    let board_letters = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h'];\r\n    let a;\r\n    for (let i = 0; i < 8; i++) {\r\n        for (let j = 0; j < 8; j++) {\r\n            let cur_letter = board_letters[j]\r\n            a = 8 - i;\r\n            pos_to_stocknot_dict[i * 8 + j] = cur_letter + a.toString();\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\nexport function make_a_move() {\r\n    for (let i = 0; i < board.grid.length; i++) {\r\n        let piece = board.grid[i];\r\n        if (piece.dragging === 1 && piece.type_letter !== 'e') {\r\n            let Target_Square_position = piece.get_closest_position();\r\n            let Starting_Square_position = [piece.old_x, piece.old_y]\r\n\r\n            let StartingSquare = pixel_positions.indexOf(get_pixel_position_from_pixel_positon_array(Starting_Square_position)); //TODO optymalizacja robie to drugi raz w set fen by move!!!\r\n            let TargetSquare = pixel_positions.indexOf(Target_Square_position);\r\n\r\n            if (Target_Square_position[0] !== Starting_Square_position[0] || Target_Square_position[1] !== Starting_Square_position[1]) {\r\n                let move = check_move(StartingSquare, TargetSquare);\r\n                if (move !== -1) {\r\n                    board.lastmove = get_move(StartingSquare, TargetSquare); //fix\r\n                    if (board.color_to_move === 'b') {\r\n                        board.numOfMoves += 1;\r\n                    }\r\n                    board.lastPawnMoveOrCapture += 1;\r\n                    //TODO zbijanko + moze case z tego zrob\r\n                    if (move.type === 'P') {\r\n                        let EP_target2;\r\n                        piece.color === 'w' ? EP_target2 = TargetSquare + Directions[0] : EP_target2 = TargetSquare + Directions[1];\r\n                        board.enPassant = pos_to_stocknot_dict[EP_target2];\r\n                    } else {\r\n                        board.enPassant = '-';\r\n                    }\r\n\r\n                    if (move.type === 'R' || move.type === 'r') {\r\n                        let Target;\r\n                        let rook_pos;\r\n                        move.type === 'r' ? Target = StartingSquare + 2 : Target = StartingSquare - 2;\r\n                        board.change_Turn();\r\n\r\n                        board.set_FEN_by_move(StartingSquare, Target, true); //przenies krola\r\n                        piece.snap();\r\n\r\n                        move.type === 'r' ? rook_pos = StartingSquare + 3 : rook_pos = StartingSquare - 4;\r\n                        move.type === 'r' ? Target = rook_pos - 2 : Target = rook_pos + 3;\r\n                        board.set_FEN_by_move(rook_pos, Target, true); // przenies  wieze\r\n\r\n                        board.grid[Target].did_move = 1;\r\n                        board.grid[Target].snap_back();\r\n\r\n\r\n                    } else {\r\n                        if (move.type === 'C') {\r\n                            board.lastPawnMoveOrCapture = 0;\r\n                            board.grid[TargetSquare].get_taken();\r\n                        } else if (move.type === 'CP') {\r\n                            let EP_target;\r\n                            piece.color === 'w' ? EP_target = TargetSquare + Directions[0] : EP_target = TargetSquare + Directions[1];\r\n                            board.grid[EP_target].get_taken();\r\n                            board.lastPawnMoveOrCapture = 0;\r\n\r\n                        }\r\n\r\n                        if (piece.type_letter === 'p' || piece.type_letter === 'P') {\r\n                            check_if_promotion(piece, TargetSquare);\r\n                            board.lastPawnMoveOrCapture = 0;\r\n                        }\r\n                        //kolejnosc wazna\r\n                        console.log(move);\r\n                        board.set_FEN_by_move(StartingSquare, TargetSquare, true);\r\n                        console.log(board.FEN);\r\n\r\n                        piece.snap();\r\n                    }\r\n                    piece.did_move = 1;\r\n                    moves = [];\r\n                    opponent_moves = [];\r\n\r\n                    if(gameMode!==1 || board.SetupState===-1){\r\n                        let data = {\r\n                            'startingSquare': StartingSquare,\r\n                            'targetSquare': TargetSquare,\r\n                            'mtype': move.type\r\n                        }\r\n                        sendMoveToServer(data, board.FEN);\r\n                    }\r\n\r\n\r\n                } else {\r\n                    piece.snap_back();\r\n                }\r\n            } else {\r\n                piece.snap();\r\n            }\r\n            piece.dragging = 0;\r\n\r\n\r\n        }\r\n    }\r\n}\r\n\r\nexport function get_white_king_pos() {\r\n    for (let i = 0; i < board.grid.length; i++) {\r\n        if (board.grid[i].type_letter === 'K') {\r\n            return board.grid[i].get_grid_pos()\r\n        }\r\n    }\r\n    return -1;\r\n}\r\n\r\nexport function get_black_king_pos(gride) {\r\n    for (let i = 0; i < gride.length; i++) {\r\n        if (gride[i].type_letter === 'k') {\r\n            return gride[i].get_grid_pos()\r\n        }\r\n    }\r\n    return -1;\r\n}","import {\r\n    future_moves,\r\n    future_opponent_moves2,\r\n    Generate_moves,\r\n    Generate_opponent_moves, get_white_king_pos, get_black_king_pos,\r\n} from \"./moves\";\r\nimport {board, playingAs, scalar, size} from \"./Main\"\r\n\r\n//   board.color_to_move === 'w' ? ally_king  = get_black_king_pos() : ally_king = get_white_king_pos();\r\n\r\nexport function simulate_moves_for_ally(grid, ally_moves) {\r\n    let ally_king;\r\n    board.color_to_move === 'b' ? ally_king = get_black_king_pos(board.grid) : ally_king = get_white_king_pos(board.grid);\r\n\r\n\r\n\r\n    let simulation_grid;\r\n    let opponent_king;\r\n    board.color_to_move === 'w' ? opponent_king = get_white_king_pos(board.grid) : opponent_king = get_black_king_pos(board.grid);\r\n    let temp_grid = grid.slice();\r\n    Generate_moves(temp_grid, 0, \"future\");\r\n    console.log(\"nowa paczka\");\r\n    console.log(future_moves);\r\n    let future_move;\r\n    let temp_move;\r\n    for (let i = 0; i < future_moves.length; i++) {\r\n        let check_flag = 0;\r\n        simulation_grid = simulate_set_grid_by_move(future_moves[i].StartSquare, future_moves[i].EndSquare, temp_grid,future_moves[i].type);\r\n        Generate_opponent_moves(simulation_grid, \"future2\",);\r\n\r\n        console.log(future_opponent_moves2);\r\n        if(board.color_to_move ==='b')\r\n        {\r\n            ally_king = simulate_black_king_pos(simulation_grid);\r\n            opponent_king = simulate_white_king_pos(simulation_grid);\r\n        }else{\r\n            ally_king = simulate_white_king_pos(simulation_grid);\r\n            opponent_king = simulate_black_king_pos(simulation_grid);\r\n        }\r\n        for (let j = 0; j < future_opponent_moves2.length; j++) {\r\n            future_move = future_opponent_moves2[j];\r\n\r\n            if (ally_king === future_move.EndSquare && future_move.type !=='n') {\r\n                check_flag = 1;\r\n            }\r\n        }\r\n        if (check_flag === 0) {\r\n            temp_move = future_moves[i];\r\n            if(board.color_to_move===playingAs) ally_moves.push(temp_move);\r\n\r\n        }\r\n        check_flag = 0;\r\n\r\n    }\r\n\r\n\r\n\r\n    for (let i = 0; i < future_moves.length; i++) {\r\n        simulation_grid = simulate_set_grid_by_move(future_moves[i].StartSquare, future_moves[i].EndSquare, temp_grid,future_moves[i].type);\r\n        Generate_opponent_moves(simulation_grid, \"future2\",);\r\n        if(board.color_to_move ==='b')\r\n        {\r\n            ally_king = simulate_black_king_pos(simulation_grid);\r\n            opponent_king = simulate_white_king_pos(simulation_grid);\r\n        }else{\r\n            ally_king = simulate_white_king_pos(simulation_grid);\r\n            opponent_king = simulate_black_king_pos(simulation_grid);\r\n        }\r\n        for (let j = 0; j < future_opponent_moves2.length; j++) {\r\n            future_move = future_opponent_moves2[j];\r\n            if (ally_king === future_move.EndSquare && future_move.type !=='n') {\r\n                find_move_in_moves_for_simulation(future_moves[i], ally_moves)\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nfunction simulate_white_king_pos(grid){\r\n    for(let i=0;i<grid.length;i++)\r\n    {\r\n        if(grid[i].type==='K')\r\n        {\r\n            return i;\r\n        }\r\n    }\r\n}\r\n\r\nfunction simulate_black_king_pos(grid){\r\n    for(let i=0;i<grid.length;i++)\r\n    {\r\n        if(grid[i].type==='k')\r\n        {\r\n            return i;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nfunction simulate_get_taken(piece){\r\n    piece.did_move = 0;\r\n    piece.color = \"none\";\r\n    piece.type = 'e'\r\n    piece.type_letter = 'e';\r\n    piece.dragging = false;\r\n    piece.scaled_size = size - scalar;\r\n    piece.possible_moves = [];\r\n    piece.old_x = piece.x;\r\n    piece.old_y = piece.y;\r\n}\r\n\r\nfunction simulate_set_grid_by_move(StartingSquare, TargetSquare, old_grid, type) {\r\n    let simulation_grid = old_grid.map(a => ({...a}));\r\n\r\n\r\n    if (type === 'C') {\r\n    simulate_get_taken(simulation_grid[TargetSquare]);\r\n    }\r\n\r\n    let temp = simulation_grid[StartingSquare];\r\n    simulation_grid[StartingSquare] = simulation_grid[TargetSquare];\r\n    simulation_grid[TargetSquare] = temp;\r\n\r\n    return simulation_grid;\r\n\r\n}\r\n\r\nfunction find_move_in_moves_for_simulation(move, ally_moves) {\r\n    let flag = 0;\r\n    for (let i = 0; i < ally_moves.length; i++) {\r\n        if (ally_moves[i].EndSquare === move.EndSquare && ally_moves[i].StartSquare === move.StartSquare) {\r\n            flag = 1;\r\n            ally_moves.splice(i, 1);\r\n            i--;\r\n        }\r\n    }\r\n    if (flag === 0) {\r\n        return -1;\r\n    } else {\r\n        return 1;\r\n    }\r\n\r\n}\r\n\r\n","// Create Redux action types\r\nexport const SET_GAMEID = 'SET_GAMEID'\r\nexport const SET_GAMEMODE = 'SET_GAME_MODE'\r\nexport const SET_PLAYINGAS = 'SET_PLAYINGAS'\r\nexport const SET_CURRENT_FEN= 'SET_CURRENT_FEN'\r\nexport const SET_OPPONENT_USERNAME='SET_OPPONENT_USERNAME'\r\nexport const SET_OPPONENT_ELO='SET_OPPONENT_ELO'\r\nexport const SET_OPPONENT_STATUS = 'SET_OPPONENT_STATUS'\r\nexport const FLIP_CURRENT_TURN = 'FLIP_CURRENT_TURN'\r\nexport const SET_CURRENT_TURN = 'SET_CURRENT_TURN'\r\nexport const SET_WHITE_TIME = 'SET_WHITE_TIME'\r\nexport const SET_BLACK_TIME = 'SET_BLACK_TIME'\r\nexport const SET_WHITE_SCORE='SET_WHITE_SCORE'\r\nexport const SET_BLACK_SCORE='SET_BLACK_SCORE'\r\nexport const SET_LOADING_GAME_INFO='SET_LOADING_GAME_INFO'\r\n\r\n//SETTERS\r\nexport const setGameId = (gameId) => ({\r\n    type: SET_GAMEID,\r\n    payload: gameId,\r\n})\r\n\r\nexport const setGameMode = (gameMode) => ({\r\n    type: SET_GAMEMODE,\r\n    payload: gameMode,\r\n})\r\nexport const setPlayingAs = (playingAs) => ({\r\n    type: SET_PLAYINGAS,\r\n    payload: playingAs,\r\n})\r\nexport const setCurrentFEN = (currentFEN) => ({\r\n    type: SET_CURRENT_FEN,\r\n    payload: currentFEN,\r\n})\r\nexport const setOpponentUsername = (oppUsername) => ({\r\n    type: SET_OPPONENT_USERNAME,\r\n    payload: oppUsername,\r\n})\r\nexport const setOpponentELO = (oppELO) => ({\r\n    type: SET_OPPONENT_ELO,\r\n    payload: oppELO,\r\n})\r\nexport const setOpponentStatus = (socketStatus) => ({\r\n    type: SET_OPPONENT_STATUS,\r\n    payload: socketStatus,\r\n})\r\n\r\nexport const flipCurrentTurn  = () =>({\r\n    type: FLIP_CURRENT_TURN,\r\n})\r\n\r\nexport const setCurrentTurn  = (turn) =>({\r\n    type: SET_CURRENT_TURN,\r\n    payload: turn,\r\n})\r\n\r\nexport const setWhiteTime  = (wtime) =>({\r\n    type: SET_WHITE_TIME,\r\n    payload: wtime,\r\n})\r\nexport const setBlackTime  = (btime) =>({\r\n    type: SET_BLACK_TIME,\r\n    payload: btime,\r\n})\r\n\r\nexport const setLoadingGameInfo  = (bool) =>({\r\n    type: SET_LOADING_GAME_INFO,\r\n    payload: bool,\r\n})\r\n\r\nexport const setWhiteScore  = (wScore) =>({\r\n    type: SET_WHITE_SCORE,\r\n    payload: wScore,\r\n})\r\nexport const setBlackScore  = (bScore) =>({\r\n    type: SET_BLACK_SCORE,\r\n    payload: bScore,\r\n})\r\n\r\n\r\n\r\n","import io from 'socket.io-client';\r\nimport {API_URL} from \"./APIConfig\";\r\nimport {make_opponents_move} from \"../containers/PlayGameScreen/Game/moves\";\r\nimport {store} from \"../index\";\r\nimport {setSocketStatus} from \"../redux/actions/socketActions\";\r\nimport {\r\n    flipCurrentTurn,\r\n    setBlackTime,\r\n    setCurrentFEN,\r\n    setOpponentStatus,\r\n    setWhiteTime\r\n} from \"../redux/actions/gameActions\";\r\nimport {board} from \"../containers/PlayGameScreen/Game/Main\";\r\nimport Board from \"../containers/PlayGameScreen/Game/board\";\r\n\r\nconst socketPath = '';\r\n\r\nexport class SocketStatus {\r\n    static disconnected = new SocketStatus('disconnected', '#bf3d3b');\r\n    static connecting = new SocketStatus('connecting', '#da8b43');\r\n    static connected = new SocketStatus('connected', '#369257');\r\n    static authorized = new SocketStatus('connected and authorized', '#369257');\r\n    static unknown =  new SocketStatus('unknown', '#69aca2');\r\n\r\n\r\n    constructor(name, color) {\r\n        this.name = name;\r\n        this.color = color;\r\n    }\r\n\r\n    static getStatusFromString(status_name){\r\n        switch (status_name){\r\n            case 'disconnected': return SocketStatus.disconnected;\r\n            case 'connecting': return SocketStatus.connecting;\r\n            case 'connected': return SocketStatus.connected;\r\n            case 'connected and authorized': return SocketStatus.authorized\r\n            default: return SocketStatus.unknown;\r\n        }\r\n    }\r\n\r\n    toString() {\r\n        return this.name;\r\n    }\r\n}\r\n\r\nexport default class SocketClient {\r\n\r\n    constructor() {\r\n        this.timeout = 250;\r\n        this.socket = null;\r\n        this.is_connected = false;\r\n        this.is_authorized = false;\r\n        this.ping = 1000;\r\n    }\r\n\r\n\r\n\r\n    disconnect() {\r\n        return new Promise((resolve) => {\r\n            this.socket.disconnect(() => {\r\n                this.is_authorized = false;\r\n                this.is_connected = false;\r\n                resolve();\r\n            });\r\n        });\r\n    }\r\n\r\n    emit(event, data) {\r\n        if (!this.is_authorized) this.authorize();\r\n\r\n        return new Promise((resolve, reject) => {\r\n            if (!this.socket) return reject('No socket connection.');\r\n            return this.socket.emit(event, data, (response) => {\r\n                if (response && response.error) {\r\n                    console.error(response.error);\r\n                    return reject(response.error);\r\n                }\r\n                return resolve();\r\n            });\r\n        });\r\n    }\r\n\r\n    //authenticate client's socket\r\n    async authorize() {\r\n        if (!this.is_authorized) {\r\n            const storeState=store.getState();\r\n            let userId=storeState.user.userId;\r\n            let sessionToken= storeState.user.sessionToken;\r\n\r\n            //don't try to auth if user is yet to log in\r\n            if(sessionToken==='none'|| userId===undefined) {\r\n                return;\r\n            }\r\n\r\n            let authData = {\r\n                userId: userId,\r\n                sessionToken: sessionToken\r\n            };\r\n\r\n            this.socket.emit('authorize', authData);\r\n        }\r\n    }\r\n\r\n    gameListeners() {\r\n        this.on(\"make_move_local\", data => {\r\n            if (data === undefined) return;\r\n            console.log(data)\r\n            make_opponents_move(data.startingSquare, data.targetSquare, data.mtype);\r\n            store.dispatch(flipCurrentTurn());\r\n        });\r\n\r\n        this.on(\"illegal_move\",data=>{\r\n            if (data === undefined) return;\r\n            console.log(\"REJECTED MOVE\")\r\n            board.set_FEN_by_rejected_move(data.startingSquare,data.targetSquare)\r\n        })\r\n\r\n        this.on(\"make_AI_move_local\",data=>{\r\n            if (data === undefined) return;\r\n            board.set_FEN_by_rejected_move(data.startingSquare,data.targetSquare)\r\n            store.dispatch(flipCurrentTurn());\r\n        })\r\n\r\n        this.on(\"place_defender_piece_local\", data => {\r\n            if (data === undefined) return;\r\n            console.log(\"GOT OPPONENT DEFENDER\");\r\n            board.FEN=data.FEN;\r\n            board.change_Turn();\r\n            board.load_FEN();\r\n            store.dispatch(setCurrentFEN(data.FEN))\r\n            store.dispatch(flipCurrentTurn());\r\n        });\r\n\r\n        this.on('update_opponents_socket_status', data =>{\r\n            if (data === undefined) return;\r\n\r\n            console.log(\"GOT OPPONENTS STATUS \"+data.status)\r\n            let opp_status= SocketStatus.getStatusFromString(data.status)\r\n            store.dispatch(setOpponentStatus(opp_status))\r\n        });\r\n\r\n        this.on('update_timers',data =>{\r\n            if (data === undefined) return;\r\n            //console.log(\"GOT TIMERS UPDATE \"+data.whiteTime)\r\n            store.dispatch(setWhiteTime(data.whiteTime))\r\n            store.dispatch(setBlackTime(data.blackTime))\r\n        });\r\n    }\r\n\r\n    authListeners() {\r\n        this.on('authorized', () => {\r\n            this.is_authorized = true;\r\n            store.dispatch(setSocketStatus( SocketStatus.authorized));\r\n        });\r\n        this.on('unauthorized', () => {\r\n            this.is_authorized = false;\r\n            window.location.reload(true); //reload to reroute to loginpage\r\n        });\r\n    }\r\n\r\n\r\n    //custom event handler, executes given function on event\r\n    on(event, fun) {\r\n        return new Promise((resolve, reject) => {\r\n            if (!this.socket) return reject('No socket connection.');\r\n            this.socket.on(event, fun);\r\n            resolve();\r\n        });\r\n    }\r\n\r\n    //establishes the connect with the websocket and also ensures constant reconnection if connection closes\r\n    connect = () => {\r\n        this.socket = io.connect(API_URL, {path: socketPath});\r\n        let that = this;\r\n        let connectInterval;\r\n        store.dispatch(setSocketStatus( SocketStatus.connecting));\r\n\r\n        this.authListeners();\r\n        this.gameListeners();\r\n\r\n        this.socket.on('connect', () => {\r\n            console.log(\"connected websocket!\");\r\n            this.is_connected = true;\r\n            store.dispatch(setSocketStatus( SocketStatus.connected));\r\n            that.timeout = 500; // reset timer to 250 on open of websocket connection\r\n            clearTimeout(connectInterval); // clear Interval on on open of websocket connection\r\n            this.authorize();\r\n        });\r\n\r\n        this.socket.on('connect_error', (reason) => {\r\n            console.log(\r\n                `Socket is closed. Reconnect will be attempted in ${Math.min(\r\n                    10000 / 1000,\r\n                    (that.timeout + that.timeout) / 1000\r\n                )} second.`,\r\n                reason\r\n            );\r\n\r\n            this.is_connected = false;\r\n            this.is_authorized = false;\r\n            store.dispatch(setSocketStatus( SocketStatus.disconnected));\r\n            that.timeout = that.timeout + that.timeout; //increment retry interval\r\n            //call check function after timeout\r\n            connectInterval = setTimeout(this.check, Math.min(10000, that.timeout));\r\n        });\r\n\r\n\r\n        this.socket.on('disconnect', (reason) => {\r\n            console.log(\r\n                `Socket is closed. Reconnect will be attempted in ${Math.min(\r\n                    10000 / 1000,\r\n                    (that.timeout + that.timeout) / 1000\r\n                )} second.`,\r\n                reason\r\n            );\r\n            this.is_connected = false\r\n            this.is_authorized = false;\r\n            store.dispatch(setSocketStatus( SocketStatus.disconnected));\r\n            that.timeout = that.timeout + that.timeout; //increment retry interval\r\n            //call check function after timeout\r\n            connectInterval = setTimeout(this.check, Math.min(10000, that.timeout));\r\n        });\r\n\r\n        //ping socket conitnously\r\n    };\r\n\r\n    //connect to check if the connection is closed, if so attempts to reconnect\r\n    check = () => {\r\n        //check if websocket instance is closed, if so call `connect` function.\r\n        if (!this.socket || this.is_connected) this.connect();\r\n    };\r\n}\r\n","import {sha256} from \"js-sha256\";\r\nimport {API_URL} from \"./APIConfig\";\r\nimport {handleResponse, fetchWithTimeout, FETCH_DEBUGGING_MODE, authHeader} from \"./DataFetcher\"\r\nimport {store} from \"../index\";\r\nimport {GAME_DEBUGING_MODE} from \"../App\";\r\nimport {disconnectSocket, setSocketStatus} from \"../redux/actions/socketActions\";\r\nimport {SocketStatus} from \"./WebSocket\";\r\n\r\nexport async function login(username,password){\r\n\r\n    try {\r\n        let hashedPassword=sha256(password);\r\n        const requestOptions = {\r\n            method: 'POST',\r\n            mode: 'cors',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            credentials: 'include',\r\n            body: JSON.stringify({ username, hashedPassword })\r\n        };\r\n\r\n        const response = await fetchWithTimeout(API_URL + '/login', requestOptions);\r\n        const respObj = await handleResponse(response);\r\n\r\n        if (FETCH_DEBUGGING_MODE)  console.log(respObj);\r\n        return respObj;\r\n    } catch (error) {\r\n        console.log(error);\r\n        console.log(error.name === 'AbortError');\r\n        return {error: 'Network connection error'};\r\n    }\r\n}\r\n\r\nexport async function register(username,password){\r\n    try {\r\n        let hashedPassword=sha256(password);\r\n        const requestOptions = {\r\n            method: 'POST',\r\n            mode: 'cors',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({username,hashedPassword})\r\n        };\r\n\r\n        const response = await fetchWithTimeout(API_URL + '/register', requestOptions);\r\n        const respObj = await handleResponse(response);\r\n        if (FETCH_DEBUGGING_MODE)  console.log(respObj);\r\n        return respObj;\r\n    } catch (error) {\r\n        console.log(error.name === 'AbortError');\r\n        return {error: 'Network connection error'};\r\n    }\r\n}\r\n\r\nexport async function logout(){\r\n    if (GAME_DEBUGING_MODE) return;\r\n\r\n\r\n    const storeState=store.getState();\r\n    let userId=storeState.user.userId;\r\n    let sessionToken=storeState.user.sessionToken;\r\n\r\n    if(sessionToken=='none' || !userId){\r\n        localStorage.clear();\r\n        sessionStorage.clear();\r\n         window.location.reload(true);\r\n         return;\r\n     }\r\n\r\n    try {\r\n        const requestOptions = {\r\n            method: 'GET',\r\n            mode: 'cors',\r\n            headers: authHeader(sessionToken),\r\n        };\r\n\r\n        const response = await fetchWithTimeout(API_URL + '/logout?userId='+userId, requestOptions);\r\n        const respBody= await response.text();\r\n        const respObj = JSON.parse(respBody);\r\n        if (FETCH_DEBUGGING_MODE) console.log(respObj);\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n\r\n    localStorage.clear();\r\n    sessionStorage.clear()\r\n    store.dispatch(setSocketStatus( SocketStatus.disconnected));\r\n    store.dispatch(disconnectSocket());\r\n    window.location.reload(true); //reload to reroute to loginpage\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import React, {useContext, useState} from \"react\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport \"./LogRegForm.css\";\r\nimport \"../../../serverLogic/APIConfig.js\"\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faEye } from \"@fortawesome/free-solid-svg-icons\";\r\nimport SectionTitle from \"../../CommonComponents/SectionTitle\"\r\nimport {useHistory } from 'react-router-dom';\r\nimport {login,logout} from \"../../../serverLogic/LogRegService\"\r\nimport {connect} from 'react-redux'\r\nimport {setSessionToken, setUserElo, setUserId, setUsername} from \"../../../redux/actions/userActions\";\r\n\r\nfunction LoginForm({dispatch}) {\r\n    const [username, setUserName] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [passwordShown, setPasswordShown] = useState(false);\r\n    const [errorMessage, setErrorMessage] = useState(\"\");\r\n    const togglePasswordVisiblity = () => {setPasswordShown(!passwordShown);};\r\n    const eye = <FontAwesomeIcon icon={faEye} />;\r\n\r\n    //routing after succesfull login\r\n    const history = useHistory();\r\n    const routeToNext = () => history.push('/');\r\n\r\n\r\n    //if this component is mounted the user must be logedout\r\n    function componentDidMount(){\r\n        logout();\r\n    }\r\n\r\n    async function HandleSubmit(event) {\r\n        event.preventDefault();\r\n        //reset error message\r\n        setErrorMessage(\"\");\r\n        let resp=await login(username,password)\r\n\r\n        if (resp.error !== undefined){\r\n            setErrorMessage(resp.error);\r\n            return;\r\n        }\r\n\r\n        dispatch(setUserId(resp.userId));\r\n        dispatch(setUsername(username));\r\n        dispatch(setUserElo(resp.userElo));\r\n        dispatch(setSessionToken(resp.sessionToken));\r\n        routeToNext();\r\n    }\r\n\r\n\r\n    return (\r\n\r\n        <div className=\"LogRegForm\">\r\n            <SectionTitle>LOGIN</SectionTitle>\r\n            <Form onSubmit={HandleSubmit}>\r\n\r\n            <Form.Control\r\n                required\r\n                placeholder=\"Username...\"\r\n                autoFocus\r\n                type=\"text\"\r\n                value={username}\r\n                onChange={(e) => setUserName(e.target.value)}\r\n            />\r\n\r\n            <div className=\"pass-wrapper\">\r\n                <Form.Control\r\n                    required\r\n                    placeholder=\"Password...\"\r\n                    type={passwordShown ? \"text\" : \"password\"}\r\n                    value={password}\r\n                    onChange={(e) => setPassword(e.target.value)}\r\n                />\r\n                <i\r\n                    onClick={togglePasswordVisiblity}\r\n                    style={{ color: passwordShown ? '#da8b43' : 'black' }}\r\n                >{eye}</i>\r\n            </div>\r\n\r\n            <div style={{ visibility: errorMessage !== \"\" ? 'visible' : 'hidden' }} className=\"errorMessage\">{errorMessage}</div>\r\n\r\n        <Button type=\"submit\" >LOGIN</Button>\r\n            </Form>\r\n        </div>\r\n    );\r\n}\r\n\r\n// Connect Redux to React\r\nexport default connect()(LoginForm)","export default __webpack_public_path__ + \"static/media/livePlaceholder.0863bc58.png\";","import \"./TextWithWavyOrnament.css\"\r\nimport ornament from \"../../assets/wavy-ornament.png\";\r\nimport React, {Component} from \"react\";\r\n\r\n\r\nclass TextWithWavyOrnament extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.text=this.props.text;\r\n        this.fontStyle={\r\n            'fontSize': this.props.fontSize,\r\n            'color': this.props.color\r\n        }\r\n        this.ornamentStyle= { height: this.props.ornamentSize};\r\n        this.directionStyle= {\r\n            'direction' : this.props.direction\r\n        };\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"TextWithWavyOrnament\" style={this.directionStyle}>\r\n                <img style={this.ornamentStyle} src={ornament} alt=\"decorative ornament\"/>\r\n                <h1 style={this.fontStyle} >{this.props.children}</h1>\r\n            </div>\r\n\r\n        );\r\n    }\r\n\r\n}\r\nexport default TextWithWavyOrnament;","export default \"data:image/png;base64,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\"","import React, {useState} from \"react\";\r\nimport \"./WatchLiveWidget.css\";\r\nimport placeholder from '../../../assets/livePlaceholder.png';\r\nimport TextWithWavyOrnament from \"../../CommonComponents/TextWithWavyOrnament\";\r\n\r\nexport default function WatchLiveWidget() {\r\n    const [player1,] = useState(\"Gukesh_D\");\r\n    const [player2,] = useState(\"GGKasparow\");\r\n\r\n\r\n    return (\r\n        <div className=\"WatchLiveWidget\">\r\n            <TextWithWavyOrnament fontSize='1.5rem' ornamentSize=\"80%\" direction=\"ltr\" color=\"#69aca2\">\r\n                WATCH NOW\r\n            </TextWithWavyOrnament>\r\n            <img className=\"LivePreview\" src={placeholder} alt=\"live-preview\"/>\r\n            <h2>{player1} <span className=\"vs\">vs</span> {player2}</h2>\r\n        </div>\r\n    );\r\n\r\n\r\n}","import React, {useState} from \"react\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport \"./RegisterForm.css\";\r\nimport \"../../../serverLogic/APIConfig.js\"\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport {faEye} from \"@fortawesome/free-solid-svg-icons\";\r\nimport SectionTitle from \"../../CommonComponents/SectionTitle\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {login, register} from \"../../../serverLogic/LogRegService\"\r\nimport {setSessionToken, setUserElo, setUserId, setUsername} from \"../../../redux/actions/userActions\"\r\nimport {connect} from 'react-redux'\r\n\r\n\r\n\r\n\r\nfunction RegisterForm({dispatch}) {\r\n    //fields in form\r\n    const [username, setUserName] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n    const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n    //for checking username requirements\r\n    const minUsernameLength = 4;\r\n    const maxUsernameLength=15;\r\n    const [usernameContainsWhitespace, setUsernameContainsWhitespace] = useState(false);\r\n    const [isUsernameLongEnough, setIsUsernameLongEnough] = useState(false);\r\n    const [isUsernameTooLong, setIsUsernameTooLong] = useState(false);\r\n    const [isUsernameTaken, ] = useState(false);\r\n    const [isValidUsername, setIsValidUsername] = useState(false);\r\n\r\n    //for checking password requirments\r\n    const minPassLength = 6;\r\n    const maxPassLength= 50;\r\n    const [isPasswordLongEnough, setIsPasswordLongEnough] = useState(false);\r\n    const [isPasswordTooLong, setIsPasswordTooLong] = useState(false);\r\n    const [passwordContainsUppercase, setPasswordContainsUppercase] = useState(false);\r\n    const [passwordContainsNumber, setPasswordContainsNumber] = useState(false);\r\n    const [isValidPassword, setIsValidPassword] = useState(false);\r\n\r\n    //for checking conf password\r\n    const [arePasswordsEqual, setArePasswordsEqual] = useState(false);\r\n\r\n    //controlling showPass behaiour\r\n    const [passwordShown, setPasswordShown] = useState(false);\r\n    const togglePasswordVisiblity = () => {\r\n        setPasswordShown(!passwordShown);\r\n    };\r\n    const eye = <FontAwesomeIcon icon={faEye}/>;\r\n\r\n    //routing after succesfull register and login\r\n    const history = useHistory();\r\n    const routeToNext = () => history.push('/');\r\n\r\n    const successColor = '#369257';\r\n    const failColor = '#bf3d3b';\r\n\r\n\r\n\r\n\r\n    //checks for all errors in data\r\n    function validateData() {\r\n        if (isValidUsername && isValidPassword) return \"\";\r\n\r\n        let errors = []\r\n        if (!isUsernameLongEnough) errors.push(\"username too short\");\r\n        if (isUsernameTooLong) errors.push(\"username too long\")\r\n        if (usernameContainsWhitespace) errors.push(\"username with whitespace\");\r\n        if (isUsernameTaken) errors.push(\"username taken\");\r\n        if (!isPasswordLongEnough) errors.push(\"password too short\");\r\n        if (isPasswordTooLong) errors.push(\"password too long\");\r\n        if (!passwordContainsUppercase) errors.push(\"password without upperCase\");\r\n        if (!passwordContainsNumber) errors.push(\"password without a number\");\r\n        if (!arePasswordsEqual) errors.push(\"passwords don't match\");\r\n\r\n        return errors;\r\n    }\r\n\r\n\r\n    function hasNumber(string) {\r\n        return /\\d/.test(string);\r\n    }\r\n\r\n    function hasUppercase(string) {\r\n        return /[A-Z]/.test(string);\r\n    }\r\n\r\n    function hasWhiteSpace(string) {\r\n        return /[\\s]/.test(string);\r\n    }\r\n\r\n    function checkPassword(pass) {\r\n        setPassword(pass);\r\n        confirmPassword === pass ? setArePasswordsEqual(true) : setArePasswordsEqual(false);\r\n\r\n        pass.length >= minPassLength ? setIsPasswordLongEnough(true) : setIsPasswordLongEnough(false)\r\n        pass.length > maxPassLength ? setIsPasswordTooLong(true) : setIsPasswordTooLong(false)\r\n        hasNumber(pass) ? setPasswordContainsNumber(true) : setPasswordContainsNumber(false)\r\n        hasUppercase(pass) ? setPasswordContainsUppercase(true) : setPasswordContainsUppercase(false)\r\n\r\n        setIsValidPassword(isPasswordLongEnough && passwordContainsNumber && passwordContainsUppercase && arePasswordsEqual)\r\n    }\r\n\r\n    function checkPasswordConfirm(confPassword) {\r\n        setConfirmPassword(confPassword);\r\n        if (confPassword.length === 0) {\r\n            setArePasswordsEqual(false);\r\n            return;\r\n        }\r\n        confPassword === password ? setArePasswordsEqual(true) : setArePasswordsEqual(false);\r\n    }\r\n\r\n\r\n    function checkUsername(username) {\r\n        setUserName(username);\r\n        hasWhiteSpace(username) ? setUsernameContainsWhitespace(true) : setUsernameContainsWhitespace(false);\r\n        username.length >= minUsernameLength ? setIsUsernameLongEnough(true) : setIsUsernameLongEnough(false);\r\n        username.length > maxUsernameLength ? setIsUsernameTooLong(true) : setIsUsernameTooLong(false);\r\n\r\n        setIsValidUsername(!usernameContainsWhitespace && isUsernameLongEnough)\r\n    }\r\n\r\n    async function handleSubmit(event) {\r\n        event.preventDefault();\r\n        //reset error message\r\n        setErrorMessage(\"\");\r\n\r\n        //check if all data matches requirments\r\n        let errors = validateData();\r\n        if (errors.length !== 0) {\r\n            let errorList = errors.map(error => <li key={error}>{error}</li>);\r\n            setErrorMessage(errorList);\r\n            return;\r\n        }\r\n\r\n        //if all data is correct, try to register user\r\n        let resp=await register(username,password)\r\n        if(resp===undefined) return;\r\n        if (resp.error !== undefined){\r\n            setErrorMessage(resp.error);\r\n            return;\r\n        }\r\n\r\n        //registration complete, autologin user\r\n        resp=await login(username,password)\r\n        if(resp===undefined) return;\r\n        if (resp.error !== undefined){\r\n            setErrorMessage(resp.error);\r\n            return;\r\n        }\r\n\r\n        dispatch(setUserId(resp.userId));\r\n        dispatch(setUsername(username));\r\n        dispatch(setUserElo(resp.userElo));\r\n        dispatch(setSessionToken(resp.sessionToken));\r\n\r\n        routeToNext();\r\n    }\r\n\r\n    return (\r\n        <div className=\"LogRegForm\">\r\n            <SectionTitle>REGISTER</SectionTitle>\r\n\r\n            <Form onSubmit={handleSubmit}>\r\n                <Form.Control\r\n                    required\r\n                    placeholder=\"Username...\"\r\n                    autoFocus\r\n                    type=\"text\"\r\n                    value={username}\r\n                    onChange={(e) => checkUsername(e.target.value)}\r\n                />\r\n                <p>Must be at least\r\n                    <span\r\n                        style={{color: isUsernameLongEnough ? successColor : failColor}}> {minUsernameLength} characters </span>\r\n                    long, and\r\n                    <span style={{color: !usernameContainsWhitespace ? successColor : failColor}}> not contain whitespace</span> characters.\r\n                </p>\r\n\r\n                <div className=\"pass-wrapper mt2\">\r\n                    <Form.Control\r\n                        required\r\n                        placeholder=\"Password...\"\r\n                        type={passwordShown ? \"text\" : \"password\"}\r\n                        value={password}\r\n                        onChange={(e) => checkPassword(e.target.value)}\r\n                    />\r\n                    <i onClick={togglePasswordVisiblity}>{eye}</i>\r\n                </div>\r\n                <p>Must be at least\r\n                    <span\r\n                        style={{color: isPasswordLongEnough ? successColor : failColor}}> {minPassLength} characters </span> long,\r\n                    include\r\n                    <span style={{color: passwordContainsNumber ? successColor : failColor}}> a number</span> and an\r\n                    <span style={{color: passwordContainsUppercase ? successColor : failColor}}> uppercase letter</span>.\r\n                </p>\r\n\r\n                <Form.Control\r\n                    required\r\n                    placeholder=\"Confirm password...\"\r\n                    type=\"password\"\r\n                    value={confirmPassword}\r\n                    onChange={(e) => checkPasswordConfirm(e.target.value)}\r\n                    style={{background: arePasswordsEqual ? successColor : failColor}}\r\n                />\r\n\r\n\r\n                <div style={{visibility: errorMessage !== \"\" ? 'visible' : 'hidden'}} className=\"errorMessage\">\r\n                    <ul>{errorMessage}</ul>\r\n                </div>\r\n\r\n                <Button type=\"submit\">REGISTER</Button>\r\n            </Form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default connect()(RegisterForm)","import React from \"react\";\r\nimport Section from \"../CommonComponents/Section\";\r\nimport LoginForm from \"./Components/LoginForm\";\r\nimport WatchLiveWidget from \"./Components/WatchLiveWidget\";\r\nimport RegisterForm from \"./Components/RegisterForm\";\r\n\r\nexport default function LogRegScreen() {\r\n\r\n    return (\r\n        <div>\r\n            <Section section=\"LOGIN\">\r\n                <LoginForm/>\r\n                <WatchLiveWidget/>\r\n            </Section>\r\n\r\n            <Section section=\"REGISTER\">\r\n                <RegisterForm/>\r\n            </Section>\r\n        </div>\r\n    );\r\n}","export const formatTime = (timer) => {\r\n    const getSeconds = `0${(timer % 60)}`.slice(-2)\r\n    const minutes = `${Math.floor(timer / 60)}`\r\n    const getMinutes = `0${minutes % 60}`.slice(-2)\r\n    const getHours = `0${Math.floor(timer / 3600)}`.slice(-2)\r\n\r\n    return `${getHours} : ${getMinutes} : ${getSeconds}`\r\n}\r\n\r\n//formats time without hours\r\nexport const formatTimeMinutes = (timer) => {\r\n    const getSeconds = `0${(timer % 60)}`.slice(-2)\r\n    const minutes = `${Math.floor(timer / 60)}`\r\n    const getMinutes = `0${minutes % 60}`.slice(-2)\r\n\r\n    return `${getMinutes} : ${getSeconds}`\r\n}\r\n\r\nexport const sleep = (milliseconds) => {\r\n    return new Promise(resolve => setTimeout(resolve, milliseconds))\r\n}\r\n\r\n//for adding multple classes on conditions to react elements\r\nexport function classNames(classes) {\r\n    return Object.entries(classes)\r\n        .filter(([key, value]) => value)\r\n        .map(([key, value]) => key)\r\n        .join(' ');\r\n}","import { useState, useRef } from 'react';\r\n\r\n\r\n//timer wrapper for use in classes\r\nexport function timerWraper(Component) {\r\n    return function WrappedComponent(props) {\r\n        const hookValue = useTimer();\r\n        return <Component {...props} hookValue={hookValue} />;\r\n    }\r\n}\r\n\r\n//countdirection 1 for counting up, -1 for counting down\r\nconst useTimer = (initialState = 0,countDirection=1) => {\r\n    const [timer, setTimer] = useState(initialState)\r\n    const [isActive, setIsActive] = useState(false)\r\n    const [isPaused, setIsPaused] = useState(false)\r\n    const countRef = useRef(null)\r\n\r\n    const setTime = (time) => {\r\n        setTimer(time);\r\n    }\r\n\r\n    const handleStart = () => {\r\n        setIsActive(true)\r\n        setIsPaused(true)\r\n        countRef.current = setInterval(() => {\r\n            setTimer((timer) => timer + countDirection)\r\n        }, 1000)\r\n    }\r\n\r\n    const timerRestart = () => {\r\n        clearInterval(countRef.current)\r\n        setTimer(0)\r\n        setIsActive(true)\r\n        setIsPaused(true)\r\n        countRef.current = setInterval(() => {\r\n            setTimer((timer) => timer + countDirection)\r\n        }, 1000)\r\n    }\r\n\r\n    const handlePause = () => {\r\n        clearInterval(countRef.current)\r\n        setIsPaused(false)\r\n    }\r\n\r\n    const handleResume = () => {\r\n        setIsPaused(true)\r\n        countRef.current = setInterval(() => {\r\n            setTimer((timer) => timer + countDirection)\r\n        }, 1000)\r\n    }\r\n\r\n    const handleReset = () => {\r\n        clearInterval(countRef.current)\r\n        setIsActive(false)\r\n        setIsPaused(false)\r\n        setTimer(0)\r\n    }\r\n\r\n    return { timer, isActive, isPaused, handleStart, handlePause, handleResume, handleReset,timerRestart,setTime }\r\n}\r\n\r\nexport default useTimer\r\n","import React, {Component} from 'react';\r\nimport \"./Dots.css\"\r\n\r\nexport default class Dots extends Component {\r\n    constructor(props, context) {\r\n        super(props, context);\r\n        this.state = { dots: 1 };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.interval = setInterval(() => {\r\n            const { dots } = this.state;\r\n            this.setState({ dots: dots === 3 ? 0 : dots + 1 });\r\n        }, 300);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearInterval(this.interval);\r\n    }\r\n\r\n    render() {\r\n        const { dots } = this.state;\r\n        let text = dots === 0 ? '' : '.'.repeat(dots);\r\n        return (\r\n            <span className=\"Dots\">{text}</span>\r\n        );\r\n    }\r\n}\r\n\r\n","// Import all actions\r\nimport * as actions from '../actions/userActions'\r\n\r\n//USER_DATA REDUCER\r\n\r\nexport const userInitialState = {\r\n    userId: localStorage.getItem('userId'),\r\n    username: localStorage.getItem('username'),\r\n    elo: localStorage.getItem('elo'),\r\n    sessionToken: 'none',\r\n    isInGame: localStorage.getItem('isInGame')\r\n};\r\n\r\nexport default function userInfoReducer(state = userInitialState, action) {\r\n    switch (action.type){\r\n        case actions.SET_USERID:\r\n           localStorage. setItem('userId',action.payload);\r\n            return {...state, userId:action.payload};\r\n        case actions.SET_USERNAME:\r\n            localStorage.setItem('username',action.payload);\r\n            return {...state,username:action.payload};\r\n        case actions.SET_USERELO:\r\n            localStorage.setItem('elo',action.payload);\r\n            return {...state,elo:action.payload};\r\n        case actions.SET_SESSION_TOKEN:\r\n            return {...state,sessionToken:action.payload};\r\n        case actions.SET_IS_IN_GAME:\r\n            localStorage.setItem('isInGame',action.payload);\r\n            return {...state,isInGame:action.payload};\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","// Import all actions\r\nimport * as actions from '../actions/gameActions'\r\nimport {SocketStatus} from \"../../serverLogic/WebSocket\";\r\n\r\n\r\nexport const gameInitialState = {\r\n    gameId: sessionStorage.getItem('gameId'),\r\n    gameMode: -1,\r\n    playingAs: sessionStorage.getItem('playingAs'),\r\n    currentFEN: '',\r\n    opponentUsername:sessionStorage.getItem('opponentUsername'),\r\n    opponentElo: sessionStorage.getItem('opponentElo'),\r\n    chatHistory:sessionStorage.getItem('chatHistory'),\r\n    opponentsStatus: SocketStatus.unknown,\r\n    currentTurn:sessionStorage.getItem('currentTurn'),\r\n    whiteTime:'420',\r\n    blackTime:'420',\r\n    loadingGameInfo:true,\r\n    whiteScore:'0',\r\n    blackScore:'0'\r\n};\r\n\r\nexport default function gameInfoReducer(state = gameInitialState, action) {\r\n    switch (action.type){\r\n        case actions.SET_PLAYINGAS:\r\n            sessionStorage.setItem('playingAS',action.payload)\r\n            return {...state, playingAs:action.payload}\r\n        case actions.SET_GAMEID:\r\n            sessionStorage.setItem('gameId',action.payload)\r\n            return {...state, gameId:action.payload}\r\n        case actions.SET_GAMEMODE:\r\n            return {...state, gameMode:action.payload}\r\n        case actions.SET_CURRENT_FEN:\r\n            return {...state, currentFEN:action.payload}\r\n        case actions.SET_OPPONENT_USERNAME:\r\n            sessionStorage.setItem('opponentUsername',action.payload)\r\n            return {...state, opponentUsername:action.payload}\r\n        case actions.SET_OPPONENT_ELO:\r\n            sessionStorage.setItem('opponentELO',action.payload)\r\n            return {...state, opponentElo:action.payload}\r\n        case actions.SET_OPPONENT_STATUS:\r\n            sessionStorage.setItem('opponentsStatus',action.payload)\r\n            return {...state, opponentsStatus:action.payload}\r\n        case actions.SET_CURRENT_TURN:\r\n            sessionStorage.setItem('currentTurn',action.payload)\r\n            return {...state, currentTurn:action.payload}\r\n        case actions.FLIP_CURRENT_TURN:\r\n            let nextTurn;\r\n            state.currentTurn == 'w' ? nextTurn='b':nextTurn='w';\r\n            sessionStorage.setItem('currentTurn',nextTurn)\r\n            return {...state, currentTurn:nextTurn}\r\n        case actions.SET_WHITE_TIME:\r\n            return {...state, whiteTime:action.payload}\r\n        case actions.SET_BLACK_TIME:\r\n            return {...state, blackTime:action.payload}\r\n        case actions.SET_BLACK_SCORE:\r\n            return {...state, blackScore:action.payload}\r\n        case actions.SET_WHITE_SCORE:\r\n            return {...state, whiteScore:action.payload}\r\n        case actions.SET_LOADING_GAME_INFO:\r\n            return {...state, loadingGameInfo:action.payload}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","// Import all actions\r\nimport * as actions from '../actions/socketActions'\r\nimport SocketClient, {SocketStatus} from \"../../serverLogic/WebSocket\";\r\n\r\nexport const socketInitialState = {\r\n    socket: new SocketClient(),\r\n    status: SocketStatus.disconnected\r\n};\r\n\r\nexport default function socketReducer(state = socketInitialState, action) {\r\n    switch (action.type){\r\n        case actions.DISCONNECT_SOCKET:\r\n            state.socket.disconnect();\r\n            return {...state}\r\n        case actions.UPDATE_SOCKET:\r\n            return {...state, socket:action.payload}\r\n        case actions.SET_SOCKET_STATUS:\r\n            return {...state, status:action.payload}\r\n        case actions.EMIT:\r\n            state.socket.emit(action.payload.event,action.payload.msg)\r\n            return state\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","import {combineReducers} from 'redux'\r\nimport \"./userReducer\"\r\nimport userInfoReducer from \"./userReducer\";\r\nimport gameInfoReducer from \"./gameReducer\"\r\nimport socketReducer from \"./socketReducer\"\r\n\r\n//all reducers combined\r\nconst rootReducer = combineReducers({\r\n    user: userInfoReducer,\r\n    game: gameInfoReducer,\r\n    socket:socketReducer,\r\n})\r\n\r\n\r\nexport default rootReducer;\r\n\r\n\r\n\r\n\r\n// Map Redux state to React component props\r\nexport const mapAllStateToProps = (state) => {\r\n    return {\r\n        socket: state.socket.socket,\r\n        socketStatus:state.socket.status,\r\n        sessionToken: state.user.sessionToken,\r\n        userId: state.user.userId,\r\n        username: state.user.username,\r\n        elo: state.user.elo,\r\n        isInGame: state.user.isInGame,\r\n        gameId: state.game.gameId,\r\n        gameMode: state.game.gameMode,\r\n        playingAs: state.game.playingAs,\r\n        currentFEN: state.game.currentFEN,\r\n        currentTurn:state.game.currentTurn,\r\n        opponentUsername: state.game.opponentUsername,\r\n        opponentElo:  state.game.opponentElo,\r\n        opponentsStatus: state.game.opponentsStatus,\r\n        loadingGameInfo: state.game.loadingGameInfo,\r\n        whiteScore:state.game.whiteScore,\r\n        blackScore:state.game.blackScore\r\n    };\r\n};\r\n","import React, {useContext, useEffect, useState} from \"react\";\r\nimport \"./FindGameWidget.css\"\r\nimport TextWithWavyOrnament from \"../../CommonComponents/TextWithWavyOrnament\";\r\nimport {formatTime} from \"../../../serverLogic/Utils\"\r\nimport useTimer from \"../../CommonComponents/Timer\";\r\nimport Dots from \"../../CommonComponents/Dots\"\r\nimport {useHistory} from \"react-router-dom\";\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport {connect} from \"react-redux\";\r\nimport {setGameId, setGameMode, setPlayingAs} from \"../../../redux/actions/gameActions\";\r\nimport {mapAllStateToProps} from \"../../../redux/reducers/rootReducer\";\r\nimport {setIsInGame} from \"../../../redux/actions/userActions\";\r\n\r\nexport class GameMode {\r\n    static classic = new GameMode('Classic', 0);\r\n    static defender = new GameMode('Defender', 1);\r\n\r\n    constructor(name, id) {\r\n        this.name = name;\r\n        this.id = id;\r\n    }\r\n}\r\n\r\nexport const allGameModes = [GameMode.classic, GameMode.defender];\r\n\r\nfunction FindGameWidget({userId,socket,dispatch}) {\r\n\r\n    const playerId =userId //;\r\n    const [playersInQ, setPlayersInQ] = useState(\"loading...\");\r\n    const buttonTexts = [\"FIND A GAME!\", \"IN QUEUE\"];\r\n    const [mainButtonText, setMainButtonText] = useState(buttonTexts[0]);\r\n\r\n    const [isInQ, setIsInQ] = useState(false);\r\n    const [scope, setScope] = useState(50);\r\n    const {timer, timerRestart} = useTimer(0);\r\n\r\n    //styling\r\n    const idleStyle = {\r\n        background: 'linear-gradient(90deg, rgba(200,199,199,1) 30%, rgba(254,254,254,1) 100%)',\r\n        color: '#1c534b'\r\n    }\r\n\r\n    const inQStyle = {\r\n        background: 'rgba(218,139,67,1)',\r\n        color: '#e8ece8'\r\n    }\r\n\r\n    const inQStyleGameMode = {\r\n        background: 'var(--primary-color-dark)',\r\n        color: '#e8ece8'\r\n    }\r\n\r\n    const QInfoStyle = {\r\n        color: '#69aca1'\r\n    };\r\n\r\n    //gamemodes handling\r\n    const [selectedGameMode,setSelectedGameMode]= useState(-1);\r\n    const gameModeButtons = allGameModes.map(\r\n        (mode) => {\r\n            return (\r\n                <button\r\n                    className=\"PlayGameWidget-gameModeButton\"\r\n                    onClick={()=>{findGame(mode.id)}}\r\n                    style={selectedGameMode===mode.id ? inQStyleGameMode : idleStyle}\r\n                >\r\n                    {mode.name}\r\n                </button>\r\n            );\r\n        });\r\n\r\n\r\n    //routing after having succesfully found a game\r\n    const history = useHistory();\r\n    const routeToNext = (gameId) => history.push('/play?id=' + gameId);\r\n\r\n    let componentMounted = true;\r\n\r\n\r\n    function findGame(gameModeId) {\r\n\r\n        if((isInQ && gameModeId===selectedGameMode) || gameModeId===-1){\r\n            setMainButtonText(buttonTexts[0]);\r\n            leaveQ(selectedGameMode);\r\n            setIsInQ(false);\r\n            setSelectedGameMode(-1);\r\n            return;\r\n        }\r\n\r\n        setSelectedGameMode(gameModeId);\r\n        setIsInQ(true);\r\n        setMainButtonText(buttonTexts[1]);\r\n        //restart the timer\r\n        timerRestart();\r\n        joinQ(gameModeId);\r\n    }\r\n\r\n    useEffect(() => {\r\n        socket.on(\"queue_info\", data => {\r\n            console.log(data);\r\n            if (componentMounted) setPlayersInQ(data.playersInQueue);\r\n        });\r\n\r\n        socket.on(\"update_scope\", data => {\r\n            console.log(data);\r\n            if (componentMounted) setScope(data.scope);\r\n        });\r\n\r\n        socket.on(\"game_found\", data => {\r\n            console.log(\"GAME_FOUND\")\r\n            dispatch(setPlayingAs(data.playingAs));\r\n            dispatch(setGameId(data.gameId));\r\n            dispatch(setGameMode(data.gameMode));\r\n            dispatch(setIsInGame(true));\r\n            routeToNext(data.gameId)\r\n        });\r\n\r\n        return () => { // This code runs when component is unmounted\r\n            componentMounted = false; // (4) set it to false if we leave the page\r\n        }\r\n    }, []);\r\n\r\n\r\n    async function joinQ(gameModeId) {\r\n        //check for socket connection, if none exists, connect\r\n        if (!socket.is_connected) return;\r\n        await socket.emit(\"join_queue\", JSON.stringify({playerId, gameModeId}));\r\n    }\r\n\r\n    async function leaveQ(gameModeId) {\r\n        if (!socket.is_connected || !isInQ) return;\r\n        await socket.emit(\"leave_queue\", JSON.stringify({playerId, gameModeId}));\r\n    }\r\n\r\n\r\n    return (\r\n        <section id=\"PLAY\" className=\"PlayGameWidget\">\r\n            <button className=\"PlayGameWidget-mainButton\"\r\n                    style={isInQ ? inQStyle : idleStyle}\r\n                    onClick={()=>{findGame(-1)}}\r\n            >\r\n                <TextWithWavyOrnament fontSize='2.5rem'>\r\n                    {mainButtonText}\r\n                    {isInQ && <Dots/>}\r\n                </TextWithWavyOrnament>\r\n            </button>\r\n\r\n\r\n            <div className=\"GameModes\">\r\n                {gameModeButtons}\r\n            </div>\r\n\r\n\r\n            <CSSTransition\r\n                in={isInQ}\r\n                timeout={200}\r\n                classNames=\"QInfo\"\r\n                unmountOnExit\r\n            >\r\n            <ul className=\"QInfo\">\r\n                <li key=\"QInfo-wait-time\"><span style={QInfoStyle}>Wait time:</span> {formatTime(timer)}</li>\r\n                <li key=\"QInfo-players-inQ\"><span style={QInfoStyle}>Players in queue:</span> {playersInQ}</li>\r\n                <li key=\"QInfo-scope\"><span style={QInfoStyle}>Scope:</span> +-{scope}</li>\r\n            </ul>\r\n        </CSSTransition>\r\n\r\n\r\n        </section>\r\n\r\n    );\r\n}\r\n\r\n\r\n\r\nexport default connect(mapAllStateToProps)(FindGameWidget)\r\n","import React, {Component} from 'react';\r\nimport \"./MatchHistoryItem.css\"\r\n\r\nexport class MatchItemInfo {\r\n    constructor(matchResult, nofMoves, player1Info, player2Info, matchDate) {\r\n        this.matchResult = matchResult;\r\n        this.nofMoves = nofMoves;\r\n        this.player1Info = player1Info;\r\n        this.player2Info = player2Info;\r\n        this.matchDate = matchDate;\r\n    }\r\n}\r\n\r\n//enum-pattern class for match results and their colors\r\nexport class MatchResult {\r\n    static draw = new MatchResult('Draw', '#468f84');\r\n    static win = new MatchResult('Win', '#369257');\r\n    static loss = new MatchResult('Loss', '#bf3d3b');\r\n    static none = new MatchResult('None','#69aca2')\r\n\r\n    constructor(name, color) {\r\n        this.name = name;\r\n        this.color = color;\r\n    }\r\n\r\n    static getResultFromString(res){\r\n        switch (res){\r\n            case 'draw': return MatchResult.draw;\r\n            case 'win': return MatchResult.win;\r\n            case 'loss': return MatchResult.loss;\r\n            default: return MatchResult.none;\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport class PlayerInfo {\r\n    constructor(username, playedAs, ELO) {\r\n        this.username = username;\r\n        this.playedAs = playedAs;\r\n        this.ELO = ELO;\r\n    }\r\n}\r\n\r\nexport class MatchDate {\r\n    constructor(hour, dayMonthYear) {\r\n        this.hour = hour;\r\n        this.dayMonthYear = dayMonthYear;\r\n    }\r\n}\r\n\r\nclass MatchHistoryItem extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.matchResult = this.props.matchItemInfo.matchResult;\r\n        this.matchResultStyle = {\r\n            'backgroundColor': this.matchResult.color\r\n        }\r\n\r\n        this.nofMoves = this.props.matchItemInfo.nofMoves;\r\n        this.player1Info = this.props.matchItemInfo.player1Info;\r\n        this.player2Info = this.props.matchItemInfo.player2Info;\r\n        this.date = this.props.matchItemInfo.matchDate;\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"MatchHistoryItem\">\r\n                <div\r\n                    style={this.matchResultStyle}\r\n                    className=\"MatchHistoryItem-result\"\r\n                >\r\n                    <h1>{this.nofMoves}</h1>\r\n                    <h2>MOVES</h2>\r\n                </div>\r\n\r\n                <div className=\"MatchHistoryItem-info\">\r\n                    <div className=\"MatchHistoryItem-player\">\r\n                        <h1>{this.player1Info.username}</h1>\r\n                        <h2>{this.player1Info.playedAs} | {this.player1Info.ELO} ELO</h2>\r\n                    </div>\r\n                    <span>vs</span>\r\n                    <div className=\"MatchHistoryItem-player\">\r\n                        <h1>{this.player2Info.username}</h1>\r\n                        <h2>{this.player2Info.playedAs} | {this.player2Info.ELO} ELO</h2>\r\n                    </div>\r\n\r\n                    <div className=\"MatchHistoryItem-date\">\r\n                        <h1>{this.date.hour}</h1>\r\n                        <h2>{this.date.dayMonthYear}</h2>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MatchHistoryItem;","import {Component} from \"react\";\r\nimport \"./VariableColor.css\"\r\n\r\nexport default class VariableColor extends  Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.colorStyle={\r\n            'backgroundColor' :props.color\r\n        };\r\n        this.text=props.text;\r\n        this.size={\r\n            'fontSize':this.props.fontSize\r\n        };\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n          <div style={this.size} className='VariableColor'>\r\n              <span style={this.colorStyle}/>\r\n              <h1 className='VariableColor-color'>{this.text}</h1>\r\n          </div>\r\n        );\r\n    }\r\n\r\n}","import {Component} from \"react\";\r\nimport \"./MatchHistory.css\"\r\nimport \"../../../CommonComponents/SectionTitle\";\r\nimport SectionTitle from \"../../../CommonComponents/SectionTitle\";\r\nimport MatchHistoryItem, {MatchResult, MatchDate, MatchItemInfo, PlayerInfo} from \"./MatchHistoryItem\"\r\nimport \"./MatchHistoryItem\";\r\nimport VariableColor from \"../../../CommonComponents/VariableColor\";\r\nimport {getMatchHistory} from \"../../../../serverLogic/DataFetcher\"\r\nimport {FETCH_DEBUGGING_MODE} from \"../../../../serverLogic/DataFetcher\"\r\nimport {connect} from \"react-redux\";\r\nimport {mapAllStateToProps} from \"../../../../redux/reducers/rootReducer\";\r\n\r\n\r\nclass MatchHistory extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isLoading: true,\r\n            matchHistory: [],\r\n            mounted: true\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchPlayerData();\r\n    }\r\n\r\n    //clean up async calls on unmount\r\n    componentWillUnmount() {\r\n        this.setState({mounted: false});\r\n    }\r\n\r\n    formatMoves(moves) {\r\n        moves < 10 ? moves= \"0\" + moves : moves=moves;\r\n        return moves\r\n    }\r\n\r\n    async fetchPlayerData() {\r\n        const resp = await getMatchHistory(this.props.userId, this.props.sessionToken);\r\n        if (FETCH_DEBUGGING_MODE) console.log(resp);\r\n\r\n        //handle unmount\r\n        if (!this.state.mounted) return\r\n        this.setState({isLoading: false})\r\n\r\n        //handle network errors\r\n        if (resp === undefined || resp.error !== undefined) {\r\n            this.setState({matchHistory: this.getEmptyMatchHistoryItem()});\r\n            return;\r\n        }\r\n\r\n        //handle empty match history\r\n        let respArr = JSON.parse(resp);\r\n        if (respArr.length === 0 || !Array.isArray(respArr)) {\r\n            this.setState({matchHistory: this.getEmptyMatchHistoryItem()});\r\n            return;\r\n        }\r\n\r\n        let keyGenerator = -1;\r\n        let matchHistoryArray = respArr.map(\r\n            item => {\r\n                keyGenerator++;\r\n                let formatedMoves = this.formatMoves(item.nOfMoves);\r\n                let result = MatchResult.getResultFromString(item.matchResult);\r\n                let p1Info = new PlayerInfo(item.p1Username, item.p1PlayedAs, item.p1ELO);\r\n                let p2Info = new PlayerInfo(item.p2Username, item.p2PlayedAs, item.p2ELO);\r\n                let date = new MatchDate(item.hour, item.dayMonthYear);\r\n                let matchItemInfo = new MatchItemInfo(result, formatedMoves, p1Info, p2Info, date);\r\n                return <MatchHistoryItem key={keyGenerator} matchItemInfo={matchItemInfo}/>;\r\n            })\r\n        this.setState({matchHistory: matchHistoryArray})\r\n    }\r\n\r\n\r\n    getEmptyMatchHistoryItem() {\r\n        let p1Info = new PlayerInfo(\"----\", \"WHITE\", \"----\");\r\n        let p2Info = new PlayerInfo(\"----\", \"BLACK\", \"----\");\r\n        let date = new MatchDate(\"--:--\", \"--/--/--\");\r\n        let matchItemInfo = new MatchItemInfo(MatchResult.none, \"00\", p1Info, p2Info, date);\r\n        return <MatchHistoryItem matchItemInfo={matchItemInfo}/>;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <section className=\"MatchHistory\">\r\n                <SectionTitle>MATCH HISTORY</SectionTitle>\r\n\r\n                <div className=\"MatchHistory-colors\">\r\n                    <VariableColor\r\n                        color={MatchResult.win.color}\r\n                        text={MatchResult.win.name}/>\r\n                    <VariableColor\r\n                        color={MatchResult.loss.color}\r\n                        text={MatchResult.loss.name}/>\r\n                    <VariableColor\r\n                        color={MatchResult.draw.color}\r\n                        text={MatchResult.draw.name}/>\r\n                </div>\r\n                {this.state.isLoading && <MatchHistoryPlaceholder/>}\r\n                <div className=\"MatchHistory-container\">\r\n                    {this.state.matchHistory}\r\n                </div>\r\n            </section>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nclass MatchHistoryPlaceholder extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        let p1Info = new PlayerInfo(\"----\", \"WHITE\", \"----\");\r\n        let p2Info = new PlayerInfo(\"----\", \"BLACK\", \"----\");\r\n        let date = new MatchDate(\"--:--\", \"--/--/--\");\r\n        this.matchItemInfo = new MatchItemInfo(MatchResult.none, \"00\", p1Info, p2Info, date);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"MatchHistory-placeholder\">\r\n                <MatchHistoryItem matchItemInfo={this.matchItemInfo}/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(mapAllStateToProps)(MatchHistory)","import React, {useEffect, useState} from \"react\";\r\nimport \"./StatsContainer.css\"\r\nimport SectionTitle from \"../../../CommonComponents/SectionTitle\";\r\nimport Dots from \"../../../CommonComponents/Dots\";\r\nimport {FETCH_DEBUGGING_MODE, getPlayerStats, getSessionToken} from \"../../../../serverLogic/DataFetcher\";\r\nimport {connect} from \"react-redux\";\r\nimport {mapAllStateToProps} from \"../../../../redux/reducers/rootReducer\";\r\nimport {setUserElo} from \"../../../../redux/actions/userActions\";\r\n\r\n\r\n\r\nfunction StatsContainer({userId,sessionToken,dispatch}) {\r\n    const [currentElo, setCurrentElo] = useState(\"loading\");\r\n    const [rankDeviation, setRankDeviation] = useState(\"loading\");\r\n    const [gamesPlayed, setGamesPlayed] = useState(\"loading\");\r\n    const [gamesWon, setGamesWon] = useState(\"loading\");\r\n    const [gamesLost, setGamesLost] = useState(\"loading\");\r\n    const [draws, setDraws] = useState(\"loading\");\r\n    const [isLoading, setIsLoading] = useState(true);\r\n\r\n    //run only once\r\n    useEffect(() => {\r\n        fetchPlayerData();\r\n    }, []);\r\n\r\n\r\n    async function fetchPlayerData() {\r\n        const resp = await getPlayerStats(userId,sessionToken);\r\n        if(FETCH_DEBUGGING_MODE) console.log(resp);\r\n\r\n        setIsLoading(false);\r\n        //handle network errors\r\n        if (resp === undefined || resp.error !== undefined) {\r\n            //show some error messagae\r\n            setCurrentElo(\"Can't connect :(\");\r\n            setRankDeviation(\"\");\r\n            setGamesPlayed(\"\");\r\n            setGamesWon(\"\");\r\n            setGamesLost(\"\");\r\n            setDraws(\"\");\r\n            return;\r\n        }\r\n\r\n        dispatch(setUserElo(resp.elo))\r\n        await setCurrentElo(resp.elo);\r\n        await setRankDeviation(resp.deviation);\r\n        await setGamesPlayed(resp.gamesPlayed);\r\n        await setGamesWon(resp.gamesWon);\r\n        await setGamesLost(resp.gamesLost);\r\n        await setDraws(resp.draws);\r\n    }\r\n\r\n    return (\r\n        <section id=\"STATS\" className=\"StatsContainer\">\r\n            <div className=\"title_area\">\r\n                <SectionTitle>YOUR STATS</SectionTitle>\r\n            </div>\r\n            <div className=\"text_area\">\r\n                <div className=\"elo-stats\">\r\n                    <h1>Current ELO:\r\n                        <span className=\"prim-text\">\r\n                         &nbsp;{currentElo} {isLoading && <Dots/>}\r\n                        </span>\r\n                    </h1>\r\n                    <p>Rank deviation:\r\n                        <span className=\"dark-prim-text\">\r\n                            &nbsp;{rankDeviation} {isLoading && <Dots/>}\r\n                        </span>\r\n                    </p>\r\n                </div>\r\n\r\n                <div className=\"game-stats\">\r\n                    <h1>Games Played: <span>&nbsp;{gamesPlayed} {isLoading && <Dots/>} </span></h1>\r\n                    <p>Games Won: <span className=\"succ-text\">&nbsp;{gamesWon} {isLoading && <Dots/>} </span></p>\r\n                    <p>Games Lost: <span className=\"fail-text\">&nbsp;{gamesLost} {isLoading && <Dots/>} </span></p>\r\n                    <p>Draws: <span className=\"neutral-text\">&nbsp;{draws} {isLoading && <Dots/>}</span></p>\r\n                </div>\r\n\r\n\r\n            </div>\r\n            <div className=\"chart_are\">\r\n                <div className=\"ChartPlaceholder\">CHART_PLACEHOLDER</div>\r\n                <div className=\"ChartPlaceholder2\">CHART_PLACEHOLDER</div>\r\n\r\n            </div>\r\n\r\n        </section>\r\n    );\r\n}\r\n\r\n\r\nexport default connect(mapAllStateToProps)(StatsContainer)","import {connect} from \"react-redux\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {setGameId, setGameMode, setPlayingAs} from \"../../../../redux/actions/gameActions\";\r\nimport {setIsInGame} from \"../../../../redux/actions/userActions\";\r\nimport {useEffect, useState} from \"react\";\r\nimport {getGameIsInGame} from \"../../../../serverLogic/DataFetcher\";\r\nimport {CSSTransition} from \"react-transition-group\";\r\nimport \"./RejoinGameWidget.css\"\r\n\r\n\r\nfunction RejoinGameWidget({dispatch, userId, sessionToken, gameId, isInGame}) {\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    //routing after having succesfully found a game\r\n    const history = useHistory();\r\n    //const routeToGame = (gameId) => history.push('/play?id=' + gameId);\r\n    const routeToGame = (gameId) => window.location.reload(true);\r\n    async function checkIfIsInGame(){\r\n        setLoading(true)\r\n        let resp = await getGameIsInGame(userId, sessionToken);\r\n        if (resp === undefined) return\r\n\r\n        //if not in game REROUTE back\r\n        if (!resp.inGame) {\r\n            dispatch(setIsInGame(false));\r\n            setLoading(false);\r\n            return;\r\n        }\r\n        await dispatch(setGameId(resp.gameId));\r\n        await dispatch(setPlayingAs(resp.playingAs));\r\n        await dispatch(setGameMode(resp.gameMode));\r\n        await dispatch(setIsInGame(true));\r\n        setLoading(false)\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        checkIfIsInGame();\r\n\r\n    }, []);\r\n\r\n\r\n    return (\r\n        <CSSTransition\r\n            in={!loading && (isInGame===\"true\" || isInGame===true)}\r\n            timeout={200}\r\n            classNames=\"RejoinGameWidget\"\r\n            unmountOnExit\r\n        >\r\n            <div className={\"RejoinGameWidget\"}>\r\n                <h1>Your game is still ongoing, click to rejoin!</h1>\r\n                <button onClick={() => routeToGame(gameId)}>REJOIN THE GAME</button>\r\n            </div>\r\n        </CSSTransition>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        userId: state.user.userId,\r\n        sessionToken: state.user.sessionToken,\r\n        isInGame:state.user.isInGame\r\n    };\r\n};\r\nexport default connect(mapStateToProps)(RejoinGameWidget);\r\n\r\n","import React, {useEffect, useState} from \"react\";\r\n\r\n\r\nfunction TextFlashComponent() {\r\n\r\n    /*--[CUSTOMIZATION PARAMETERS]--*/\r\n    /*Edit those to customize the widget*/\r\n    const [text, setText] = useState(\"WINNER!\")/*Text that is to be flashed */\r\n    const [minRepetitions, setMinRepetiotions] = useState(3); /*Minimum number the text repeats on screen */\r\n    const [displacement, setDisplacement] = useState(0.2); /*Margin for text jumbling [0-1]*/\r\n    const [newTextFlag, setNewTextFlag] = useState(true);\r\n    let textItems = []; //array holding all displayed text\r\n\r\n    useEffect(() => {\r\n\r\n        /*--[CREATING FROM PARAMETERS]--*/\r\n        let repetitions = calcRepetitions(minRepetitions, displacement);\r\n        populateTextFlash(textItems, text, repetitions, displacement);\r\n    }, [text])\r\n\r\n    //on widnow resize\r\n\r\n\r\n    function populateTextFlash(textItems, textFlashText, repetitions, displacement) {\r\n        textFlashText = textFlashText.toUpperCase();\r\n        //update css variables basing on js custom parameters\r\n        document.documentElement.style.setProperty('--swidget--textFlash-repetitions', repetitions);\r\n        var displacementAsString = String(displacement * 100) + 'vw';\r\n        document.documentElement.style.setProperty('--swidget--textFlash-displacement', displacementAsString);\r\n\r\n        for (var i = 0; i < repetitions; i++) {\r\n            let testTextElement = React.createElement('div', {className: 'text'}, textFlashText);\r\n\r\n            //add alternating displacement to left and right\r\n            if (i % 2 === 0) {\r\n                testTextElement =\r\n                    React.createElement('div',\r\n                        {className: 'text swidget--textFlash-displacedLeft'},\r\n                        textFlashText);\r\n            } else {\r\n                testTextElement =\r\n                    React.createElement('div',\r\n                        {className: 'text swidget--textFlash-displacedRight'},\r\n                        textFlashText);\r\n            }\r\n\r\n            textItems.push(testTextElement);\r\n        }\r\n\r\n    }\r\n\r\n//calculate appropriate ammount of repetition so that text fits the screen\r\n    function calcRepetitions(minRepetitions, displacement) {\r\n        let repetitions = minRepetitions;\r\n\r\n        //create test text, to messure its width\r\n        let testTextElement = React.createElement('div');\r\n        textItems.push(testTextElement);\r\n\r\n        //so long as text_width+margin>screen_width, up the number of repetitions\r\n        let marginSize = displacement * window.innerWidth;\r\n        console.log(marginSize);\r\n        do {\r\n            repetitions += 1;\r\n            document.documentElement.style.setProperty('--swidget--textFlash-repetitions', repetitions);\r\n        }\r\n        while (testTextElement.clientWidth + marginSize > window.innerWidth);\r\n\r\n        //delete test text\r\n        textItems.pop();\r\n        //if calculated ammount is lower then minimal, return minimal\r\n        return repetitions < minRepetitions ? minRepetitions : repetitions;\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"swidget--textFlash\">{textItems}</div>\r\n    );\r\n}\r\n\r\nexport default (TextFlashComponent)","import React from \"react\";\r\nimport FindGameWidget from \"./Components/FindGameWidget\";\r\nimport MatchHistory from \"./Components/MatchHistory/MatchHistory\";\r\nimport Section from \"../CommonComponents/Section\";\r\nimport StatsContainer from \"./Components/Stats/StatsContainer\"\r\nimport RejoinGameWidget from \"./Components/MatchHistory/RejoinGameWidget\";\r\nimport Blink from 'react-blink-text';\r\nimport TextFlashComponent from \"../CommonComponents/TextFlashComponent\";\r\n\r\nfunction MainPageScreen() {\r\n\r\n    return (\r\n        <div>\r\n            <TextFlashComponent/>\r\n            <RejoinGameWidget/>\r\n            <FindGameWidget/>\r\n            <Section section=\"STATS\">\r\n                <StatsContainer/>\r\n                <MatchHistory/>\r\n            </Section>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MainPageScreen\r\n\r\n","import \"./GameContainer.css\"\r\nimport {Component} from \"react\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nclass GameContainer extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.style=props.style;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <section style={this.style} className={this.props.gameMode==='0'? \"GameContainer\":\"GameContainer ChessDefenderGameContainer\"} id=\"GAME_CONTAINER\">\r\n                {this.props.children}\r\n            </section>\r\n        );\r\n    }\r\n\r\n}\r\n// Map Redux state to React component props\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        gameMode: state.game.gameMode,\r\n    };\r\n};\r\nexport default connect(mapStateToProps)(GameContainer);","import \"./Chat.css\"\r\nimport Form from \"react-bootstrap/Form\";\r\nimport React, {Component} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {mapAllStateToProps} from \"../../../redux/reducers/rootReducer\";\r\n\r\n\r\nclass Chat extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.socket = this.props.socket;\r\n        this.playerName=this.props.username;\r\n        this.playerId = this.props.userId;\r\n        this.gameId= this.props.gameId;\r\n\r\n        let selfMessageStyle={\r\n            color:'var(--sec-color)'\r\n        }\r\n        let opponentMessageStyle={\r\n            color:'var(--primary-color)'\r\n        }\r\n        this.messageStyles= [selfMessageStyle,opponentMessageStyle]\r\n\r\n        this.state={\r\n            messages:[],\r\n            typedMsg:\"\",\r\n        }\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.socket.on('receive_message',(data)=>{\r\n            if (this.socket === undefined || !this.socket.is_connected || data===undefined)  return;\r\n\r\n            console.log(data)\r\n            let msg= {\r\n                name:data.playerName,\r\n                text:data.text,\r\n                sender:1\r\n            };\r\n\r\n            this.addMessageToLog(msg);\r\n        })\r\n    }\r\n\r\n    scrollToBottom(){\r\n       //this.messagesEnd.scrollIntoView({ behavior: \"smooth\" });\r\n    }\r\n\r\n    addMessageToLog(msg){\r\n        let updatedMsgs= this.state.messages;\r\n        updatedMsgs.push(msg);\r\n        //add msg and clear field\r\n        this.setState({messages:updatedMsgs});\r\n\r\n        //scroll to div to bottom to show new msg\r\n        this.scrollToBottom();\r\n    }\r\n\r\n    handleSubmit(event){\r\n        event.preventDefault();\r\n        let playerName=this.playerName;\r\n        let text=this.state.typedMsg;\r\n        let gameId=this.gameId\r\n        let playerId=this.playerId;\r\n        let msg= {\r\n            name:playerName,\r\n            text:text,\r\n            sender:0\r\n        };\r\n        this.addMessageToLog(msg)\r\n        //clear msg field\r\n        this.setState({typedMsg:\"\"});\r\n\r\n        //send to server\r\n        this.socket.emit('send_chat_to_server',JSON.stringify({playerName,text,gameId,playerId}));\r\n    }\r\n\r\n    render() {\r\n\r\n        let messageList= this.state.messages.map((msg)=>{\r\n            return (\r\n                <div  className=\"Chat-messageItem\">\r\n                    <span style={this.messageStyles[msg.sender]} className=\"Chat-messageItem-name\">{msg.name}:&nbsp;</span>\r\n                    <span>{msg.text}</span>\r\n                </div>\r\n            );\r\n        });\r\n\r\n\r\n        return (\r\n            <section className=\"Chat\">\r\n                <div id=\"Chat-messages\" className=\"Chat-messages\">\r\n                    {messageList}\r\n                    <div style={{ float:\"left\", clear: \"both\", height:'0.5rem' }}\r\n                         ref={(el) => { this.messagesEnd = el; }}>\r\n                    </div>\r\n                </div>\r\n                <Form onSubmit={this.handleSubmit}>\r\n                    <div  className=\"Chat-input\">\r\n                        <Form.Control\r\n                            required\r\n                            placeholder=\"Your message....\"\r\n                            type=\"text\"\r\n                            value={this.state.typedMsg}\r\n                            onChange={(e) => this.setState({typedMsg:e.target.value})}\r\n                        />\r\n                    </div>\r\n                </Form>\r\n            </section>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default connect(mapAllStateToProps)(Chat);","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {mapAllStateToProps} from \"../../redux/reducers/rootReducer\";\r\nimport \"./SocketStatusWidget.css\";\r\nimport {Fade, Tooltip} from \"react-bootstrap\";\r\nimport {SocketStatus} from \"../../serverLogic/WebSocket\";\r\n\r\nconst {Component} = require(\"react\");\r\n\r\nclass SocketStatusWidget extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isOpponentSocket: this.props.isOpponentSocket, //dictates if it should display opponent's or player's socket status\r\n\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        let displayedSocketStatus= this.props.socketStatus;\r\n        if (this.state.isOpponentSocket && this.props.opponentsStatus ){\r\n            displayedSocketStatus=this.props.opponentsStatus;\r\n            //if player is disconnected show opponents status as unknown\r\n            if (this.props.socketStatus===SocketStatus.disconnected){\r\n                displayedSocketStatus=SocketStatus.unknown;\r\n            }\r\n\r\n        }\r\n\r\n        return (\r\n            <Tooltip title={displayedSocketStatus.name} id='socket_widget'>\r\n                <div className={`SocketStatus ` + this.props.className}\r\n                     style={{'background-color': displayedSocketStatus.color}}/>\r\n            </Tooltip>\r\n        );\r\n    }\r\n}\r\n// Map Redux state to React component props\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        socketStatus: state.socket.status,\r\n        opponentsStatus: state.game.opponentsStatus\r\n    };\r\n};\r\nexport default connect(mapStateToProps)(SocketStatusWidget);","\r\nimport \"./PlayersInfo.css\"\r\nimport {SocketStatus} from \"../../../serverLogic/WebSocket\";\r\nimport React, {Component} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {mapAllStateToProps} from \"../../../redux/reducers/rootReducer\";\r\nimport SocketStatusWidget from \"../../CommonComponents/SocketStatusWidget\";\r\n\r\nclass PlayersInfo extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state ={\r\n            opponentStatus: SocketStatus.connecting\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <section className=\"PlayersInfo\">\r\n                <div className=\"PlayersInfo-playerContainer\">\r\n                    <SocketStatusWidget className=\"PlayersInfo-status\"/>\r\n                    <div className=\"MatchHistoryItem-player\">\r\n                        <h1>{this.props.username}</h1>\r\n                        <h2>{this.props.playingAs ==='w'? 'WHITE': 'BLACK'} | {this.props.elo} ELO</h2>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"PlayersInfo-playerContainer\">\r\n                    <SocketStatusWidget className=\"PlayersInfo-status\" isOpponentSocket={true}/>\r\n                    <div className=\"MatchHistoryItem-player\">\r\n                        <h1>{this.props.opponentUsername}</h1>\r\n                        <h2>{this.props.playingAs ==='w'? 'BLACK': 'WHITE'} | {this.props.opponentElo} ELO</h2>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </section>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default connect(mapAllStateToProps)(PlayersInfo);","import \"./GameButtons.css\"\r\nimport {Component} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {emit} from \"../../../redux/actions/socketActions\";\r\nimport {store} from \"../../../index\";\r\nimport {flipCurrentTurn} from \"../../../redux/actions/gameActions\";\r\n\r\nclass GameButtons extends Component{\r\n    // constructor(props) {\r\n    //     super(props);\r\n    //\r\n    // }\r\n\r\n    surrenderGame = () =>{\r\n        let evntAndMsg ={\r\n            event:'surrender',\r\n            msg: JSON.stringify({\r\n                'gameroomId':this.props.gameId,\r\n                'playerId':this.props.userId,\r\n            })\r\n        }\r\n\r\n        this.props.dispatch(emit(evntAndMsg));\r\n    }\r\n\r\n    makeAIMove = () =>{\r\n        let makeMoveEvent ={\r\n            event:'make_AI_move',\r\n            msg:JSON.stringify({\r\n                'gameroomId':this.props.gameId,\r\n                'playerId':this.props.userId,\r\n                'FEN':this.props.FEN\r\n            })\r\n        }\r\n        store.dispatch(emit(makeMoveEvent));\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <section className=\"GameButtons\">\r\n                <button onClick={this.surrenderGame}>SURRENDER</button>\r\n            </section>\r\n        );\r\n    }\r\n}\r\n// {this.props.gameMode===\"1\" &&       <button onClick={this.makeAIMove}>MAKE AI MOVE</button>\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        userId: state.user.userId,\r\n        gameId: state.game.gameId,\r\n        FEN:state.game.currentFEN,\r\n        gameMode:state.game.gameMode\r\n    };\r\n};\r\nexport default connect(mapStateToProps)(GameButtons);","import \"./GameTimer.css\"\r\nimport React, {Component, useEffect, useState} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {classNames, formatTime, formatTimeMinutes} from \"../../../serverLogic/Utils\";\r\n\r\n\r\n//time below which the timer becomes red\r\nconst LOW_TIME_BOUNDRY = 10;\r\n\r\nfunction GameTimer({currentTurn, playerColor, blackTime, whiteTime, style}) {\r\n    const [timer, setTimer] = useState(600);\r\n    let classes = {\r\n        'active': playerColor === currentTurn,\r\n        'low-time': timer <= LOW_TIME_BOUNDRY,\r\n    };\r\n\r\n    //on intialization\r\n    useEffect(() => {\r\n        playerColor === 'w' ? setTimer(Math.floor(whiteTime)) : setTimer(Math.floor(blackTime))\r\n        classes = {\r\n            'active': playerColor === currentTurn,\r\n            'low-time': timer <= LOW_TIME_BOUNDRY,\r\n        };\r\n    }, [blackTime, whiteTime]);\r\n\r\n    //everytime turn changes\r\n    useEffect(() => {\r\n        classes = {\r\n            'active': playerColor === currentTurn,\r\n            'low-time': timer <= LOW_TIME_BOUNDRY,\r\n        };\r\n    }, [currentTurn]);\r\n\r\n\r\n    return (\r\n        <div style={style} className=\"GameTimer\">\r\n            <div className={classNames(classes)}>\r\n                {formatTimeMinutes(timer)}\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        currentTurn: state.game.currentTurn,\r\n        whiteTime: state.game.whiteTime,\r\n        blackTime: state.game.blackTime\r\n    };\r\n};\r\nexport default connect(mapStateToProps)(GameTimer);","import \"./GameTimersWidget.css\"\r\nimport React, {Component, useEffect, useState} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport useTimer from \"../../CommonComponents/Timer\";\r\nimport GameTimer from \"./GameTimer\";\r\n\r\n\r\nfunction GameTimersWidget({playingAs,children}) {\r\n    const [whiteOrder, setWhiteOrder] = useState(-1)\r\n    const [blackOrder, setBlackOrder] = useState(-1)\r\n\r\n    //on intialization\r\n    useEffect(() => {\r\n        if (playingAs == 'w') {\r\n            setWhiteOrder(2);\r\n            setBlackOrder(0);\r\n            return;\r\n        }\r\n        setWhiteOrder(0);\r\n        setBlackOrder(2);\r\n    }, [playingAs]);\r\n\r\n\r\n    return (\r\n        <div className=\"GameTimersWidget\">\r\n            <GameTimer style={{'order': whiteOrder}} playerColor='w'/>\r\n            {children}\r\n            <GameTimer style={{'order': blackOrder}} playerColor='b'/>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        playingAs: state.game.playingAs,\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps)(GameTimersWidget);","import React, {useEffect, useState} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport \"./TurnIndicator.css\"\r\nimport Blink from \"react-blink-text\";\r\nimport {board} from \"../Game/Main\";\r\n\r\nfunction TurnIndicator ({currentTurn,playingAs}){\r\n    const [turnIndicatorText,setTurnIndicatorText]= useState(\"It's your turn now!\")\r\n    const [turnStyle,setCurrentTurnStyle]= useState()\r\n    const playerTurnStyle = \"rgb(228 137 57)\";\r\n    const opponentTurnStyle = \"rgb(140 162 173)\";\r\n\r\n    //changes on current turn change\r\n    useEffect(()=>{\r\n        setTurnIndicatorText(\"It's opponent's turn!\");\r\n        setCurrentTurnStyle(opponentTurnStyle);\r\n        if(currentTurn===playingAs){\r\n            let color={r:228,g:137,b:57};\r\n            if(board){ board.highlightBoardSide(playingAs,color )}\r\n\r\n            setTurnIndicatorText(\"It's your turn now!\");\r\n            setCurrentTurnStyle(playerTurnStyle);\r\n        }\r\n\r\n    },[currentTurn])\r\n\r\n\r\n    return (\r\n      <div className=\"TurnIndicator\">\r\n          <h1 >Playing as <span>{playingAs ==='w'? 'WHITE':'BLACK'}</span></h1>\r\n\r\n          <Blink color={turnStyle} text={turnIndicatorText}fontSize='20'/>\r\n      </div>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        playingAs:state.game.playingAs,\r\n        currentTurn: state.game.currentTurn\r\n    };\r\n};\r\nexport default connect(mapStateToProps)(TurnIndicator);\r\n","import {Component} from \"react\";\r\nimport GameContainer from \"./Components/GameContainer\"\r\nimport Chat from \"./Components/Chat\"\r\n\r\nimport P5Wrapper from \"react-p5-wrapper\"\r\nimport sketch from \"./Game/Main\";\r\nimport {getGameInfo, getGameIsInGame} from \"../../serverLogic/DataFetcher\";\r\nimport PlayersInfo from \"./Components/PlayersInfo\";\r\nimport \"./PlayGameScreen.css\";\r\nimport GameButtons from \"./Components/GameButtons\";\r\nimport {store} from \"../../index\";\r\nimport {connect} from \"react-redux\";\r\nimport {mapAllStateToProps} from \"../../redux/reducers/rootReducer\";\r\nimport {\r\n    setGameId,\r\n    setPlayingAs,\r\n    setCurrentFEN,\r\n    setOpponentELO,\r\n    setOpponentUsername,\r\n    setGameMode,\r\n    setCurrentTurn,\r\n    flipCurrentTurn,\r\n    setBlackTime,\r\n    setWhiteTime,\r\n    setLoadingGameInfo,\r\n    setWhiteScore, setBlackScore\r\n} from \"../../redux/actions/gameActions\";\r\nimport {setIsInGame} from \"../../redux/actions/userActions\";\r\nimport {withRouter} from \"react-router-dom\"\r\nimport {GAME_DEBUGING_MODE} from \"../../App\";\r\nimport {emit} from \"../../redux/actions/socketActions\";\r\nimport GameTimer from \"./Components/GameTimer\";\r\nimport {sleep} from \"../../serverLogic/Utils\";\r\nimport {CSSTransition} from \"react-transition-group\";\r\nimport GameTimersWidget from \"./Components/GameTimersWidget\";\r\nimport TurnIndicator from \"./Components/TurnIndicator\";\r\n\r\nclass PlayGameScreen extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.socket = this.props.socket;\r\n        this.state = {\r\n            gameStatus: \"Draw\",\r\n            showResult: false,\r\n        }\r\n    }\r\n\r\n    async fetchGameData(){\r\n        await this.props.dispatch(setLoadingGameInfo(true));\r\n        //check if opponent is in game, if not REROUTE back\r\n        let playerId = this.props.userId;\r\n        if (this.props.gameroomId===undefined){\r\n            let resp= await getGameIsInGame(this.props.userId,this.props.sessionToken);\r\n            if (resp === undefined) return\r\n\r\n            //if not in game REROUTE back\r\n            if(!resp.inGame && !GAME_DEBUGING_MODE){\r\n                this.props.dispatch(setIsInGame(false));\r\n                this.props.history.push('/');\r\n                return;\r\n            }\r\n            await this.props.dispatch(setGameId(resp.gameId));\r\n            await this.props.dispatch(setPlayingAs(resp.playingAs));\r\n            await this.props.dispatch(setGameMode(resp.gameMode));\r\n            await this.props.dispatch(setIsInGame(true));\r\n        }\r\n\r\n        if(this.props.isInGame){\r\n            this.props.history.push('/play?id=' + this.props.gameId);\r\n            //get game info for game setup\r\n            let resp= await getGameInfo(this.props.gameId,this.props.sessionToken);\r\n            if (resp === undefined) return\r\n\r\n            console.log(resp)\r\n            await this.props.dispatch(setGameMode(resp.gameMode));\r\n            await this.props.dispatch(setCurrentFEN(resp.FEN));\r\n            //\r\n            if (this.props.playingAs ===\"w\"){\r\n                await this.props.dispatch(setOpponentUsername(resp.blackPlayer.username));\r\n                await this.props.dispatch(setOpponentELO(resp.blackPlayer.ELO));\r\n            }else{\r\n                await this.props.dispatch(setOpponentUsername(resp.whitePlayer.username));\r\n                await this.props.dispatch(setOpponentELO(resp.whitePlayer.ELO));\r\n            }\r\n            await this.props.dispatch(setCurrentTurn(resp.currentTurn));\r\n            await this.props.dispatch(setBlackTime(resp.blackTime));\r\n            await this.props.dispatch(setWhiteTime(resp.whiteTime))\r\n\r\n            if (resp.gameMode===\"1\"){\r\n                await this.props.dispatch(setWhiteScore(resp.whiteScore));\r\n                await this.props.dispatch(setBlackScore(resp.blackScore));\r\n            }\r\n\r\n            await this.props.dispatch(setLoadingGameInfo(false));\r\n        }\r\n\r\n        if (GAME_DEBUGING_MODE) await this.setDebugingGameValues();\r\n    }\r\n\r\n    setDebugingGameValues(){\r\n        this.props.dispatch(setPlayingAs('w'));\r\n        this.props.dispatch(setCurrentFEN(\"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1\"));\r\n        this.props.dispatch(setOpponentUsername(\"YOURSELF\"));\r\n    }\r\n    componentDidMount() {\r\n        //style canvas programatically TODO maybe find a more elegant way?\r\n\r\n        this.fetchGameData();\r\n        this.socket.on(\"game_ended\", data => {\r\n            if (data === undefined) return;\r\n            this.setState({gameStatus: data.result, showResult: true});\r\n            this.props.dispatch(setIsInGame(false));\r\n            this.props.dispatch(setGameId(\"\"));\r\n        });\r\n    }\r\n\r\n    async placeDefenderPiece(FEN,spentPoints){\r\n        const storeState=store.getState();\r\n        let playerId = storeState.user.userId;\r\n        let gameroomId =storeState.game.gameId;\r\n\r\n        console.log(\"SEND OPPONENT DEFENDER\");\r\n        let makeMoveEvent ={\r\n            event:'place_defender_piece',\r\n            msg:JSON.stringify({gameroomId, playerId,FEN,spentPoints})\r\n        }\r\n\r\n        store.dispatch(emit(makeMoveEvent));\r\n        store.dispatch(flipCurrentTurn());\r\n    }\r\n    async sendMove(move,FEN) {\r\n        const storeState=store.getState();\r\n        let playerId = storeState.user.userId;\r\n        let gameroomId =storeState.game.gameId;\r\n\r\n        let makeMoveEvent ={\r\n            event:'make_move',\r\n            msg:JSON.stringify({move, gameroomId, playerId,FEN})\r\n        }\r\n\r\n        store.dispatch(emit(makeMoveEvent));\r\n        store.dispatch(flipCurrentTurn());\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <CSSTransition\r\n                in={!this.props.loadingGameInfo}\r\n                timeout={200}\r\n                classNames=\"PlayGameScreenContainer\"\r\n                unmountOnExit\r\n            >\r\n                <div className=\"PlayGameScreenContainer\">\r\n                    <div className={this.props.gameMode==='0'? \"PlayGameScreen\":\"PlayGameScreen chessDefenderGameScreen\"} id=\"PLAY_GAME_SCREEN\">\r\n                        {this.state.showResult &&\r\n                        <div className=\"ResultInfo\">\r\n                            <p>&nbsp;{this.state.gameStatus.toUpperCase()}</p>\r\n                            <button disabled={!this.state.showResult} onClick={()=>{this.props.history.push('/')}}>GO BACK</button>\r\n                        </div>\r\n                        }\r\n\r\n                        <PlayersInfo/>\r\n\r\n                        <Chat/>\r\n\r\n                        <GameContainer>\r\n                            <P5Wrapper\r\n                                sketch={sketch}\r\n                                sendMoveToServer={this.sendMove}\r\n                                placeDefenderPiece={this.placeDefenderPiece}\r\n                                playingAs={this.props.playingAs}\r\n                                startingFEN={this.props.currentFEN}\r\n                                currentTurn={this.props.currentTurn}\r\n                                gameMode={this.props.gameMode}\r\n                                whiteScore={this.props.whiteScore}\r\n                                blackScore={this.props.blackScore}\r\n                            />\r\n                        </GameContainer>\r\n\r\n                        <div className=\"Game-info\">\r\n\r\n                            <GameTimersWidget>\r\n                                <TurnIndicator/>\r\n                            </GameTimersWidget>\r\n                            <GameButtons/>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </CSSTransition>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(mapAllStateToProps)(withRouter(PlayGameScreen));\r\n","import React, {Component} from \"react\";\r\nimport \"./ProfileWidget.css\";\r\n\r\n\r\nclass ProfileWidget extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.username=props.username;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"NavBar-userProfile NavProfile\">\r\n                <div className=\"img\"/>\r\n                <div className=\"NavBar-userProfile-info\">\r\n                    <h1>PROFILE</h1>\r\n                    <h3>{this.username}</h3>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n}\r\n export default ProfileWidget;","export default __webpack_public_path__ + \"static/media/logo.304a0497.png\";","import React from \"react\";\r\nimport logo from \"../../../assets/logo.png\";\r\n\r\nimport \"./LogoWidget.css\";\r\n\r\n\r\nexport default function LogoWidget(){\r\n    return (\r\n        <div className=\"logo NavProfile\" >\r\n            <img src={logo} alt=\"website-logo\"/>\r\n            <div className=\"logo-texts\">\r\n                <h1>Chess Defence</h1>\r\n                <h3>PLAY CHESS ONLINE NOW!</h3>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React, {Component} from 'react';\r\nimport \"./NavBar.css\";\r\nimport ProfileWidget from \"./Components/ProfileWidget\"\r\nimport LogoWidget from \"./Components/LogoWidget\"\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faSignOutAlt } from \"@fortawesome/free-solid-svg-icons\";\r\nimport {logout} from \"../../serverLogic/LogRegService\";\r\nimport {connect} from \"react-redux\";\r\nimport {mapAllStateToProps} from \"../../redux/reducers/rootReducer\";\r\n\r\n//buttons on different subpages\r\nlet landingPageItems = [\"PLAY\", \"LOGIN\", \"REGISTER\"];\r\nlet mainPageItems = [\"STATS\", \"PLAY\"];\r\n\r\nclass NavBar extends Component {\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.title = props.title;\r\n        this.currentItems = landingPageItems;\r\n        this.logoVisible=true;\r\n        this.playerWidgetVisible=false;\r\n        this.playerUsername=\"User_NotFound\";\r\n        this.logoutIcon=<FontAwesomeIcon\r\n            className=\"NavBar-signout\"\r\n            icon={faSignOutAlt}\r\n            onClick={logout}\r\n        />;\r\n    }\r\n\r\n\r\n\r\n\r\n    scrollToSection(sectionID) {\r\n        this.closeNav();\r\n        let section = document.getElementById(sectionID);\r\n        if (typeof section !== 'undefined' && section !== null) {\r\n            section.scrollIntoView({behavior: 'smooth'});\r\n        }\r\n    }\r\n\r\n    /* Open the sidenav */\r\n    openNav() {\r\n        let navMenuDOM = document.getElementById(\"mobile_Nav\");\r\n        if (typeof navMenuDOM !== 'undefined' && navMenuDOM !== null) {\r\n            navMenuDOM.style.width = \"100%\";\r\n        }\r\n    }\r\n\r\n    /* Close/hide the sidenav */\r\n    closeNav() {\r\n        let navMenuDOM = document.getElementById(\"mobile_Nav\");\r\n        if (typeof navMenuDOM !== 'undefined' && navMenuDOM !== null) {\r\n            navMenuDOM.style.width = \"0\";\r\n        }\r\n    }\r\n\r\n    getAppropriateItems(){\r\n        let path= this.props.location.pathname;\r\n\r\n        if (typeof path !== 'undefined' && path !== null) {\r\n            if(path===\"/login\"){\r\n                this.currentItems = landingPageItems;\r\n                this.playerWidgetVisible=false;\r\n                this.logoVisible=true;\r\n            }\r\n            else {\r\n                if(path===\"/\") this.currentItems = mainPageItems;\r\n                if(path===\"/play\") this.currentItems=[];\r\n\r\n                this.logoVisible=false;\r\n                this.playerWidgetVisible=true;\r\n                let userData= this.props.username;\r\n                if (userData!==null) this.playerUsername=userData;\r\n            }\r\n        }\r\n\r\n        //update menu buttons\r\n        this.menuItemsList = this.currentItems.map(item =>\r\n            <button key={item} onClick={() => this.scrollToSection(item)}>\r\n                {item}\r\n            </button>);\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        this.getAppropriateItems();\r\n\r\n        return (\r\n            <header className=\"NavBar\">\r\n                {this.logoVisible && <LogoWidget/>}\r\n                {this.playerWidgetVisible && <ProfileWidget username={this.playerUsername}/>}\r\n\r\n                <div className=\"NavBar-navMenu NavMenu\" onClick={this.openNav}>\r\n                    <div className=\"NavBar-navMenu-icon-part\"/>\r\n                    <div className=\"NavBar-navMenu-icon-part\"/>\r\n                    <div className=\"NavBar-navMenu-icon-part\"/>\r\n                </div>\r\n\r\n                {this.playerWidgetVisible &&this.logoutIcon}\r\n\r\n\r\n                <div id=\"mobile_Nav\" className=\"sidenav\">\r\n                    <button className=\"closebtn\" onClick={this.closeNav}>&times;</button>\r\n                    {this.menuItemsList}\r\n                </div>\r\n\r\n                <div className=\"NavBar-buttons NavButtons\" id=\"navButtons\">\r\n                    {this.menuItemsList}\r\n                </div>\r\n            </header>\r\n        );\r\n\r\n    }\r\n\r\n}\r\n\r\nexport default connect(mapAllStateToProps)(NavBar);","//make pages scroll to the top after having been rerouted https://reactrouter.com/web/guides/scroll-restoration\r\n\r\nimport { useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nexport default function ScrollToTop() {\r\n    const { pathname } = useLocation();\r\n\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0);\r\n    }, [pathname]);\r\n\r\n    return null;\r\n}","//redirects to login if user is not authenticated\r\nimport {Redirect, Route} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nconst PrivateRoute = ({ sessionToken,userId,component: Component, ...rest }) =>\r\n{\r\n    return (\r\n        <Route {...rest} render={props => (\r\n            sessionToken!=='none'\r\n                ? <Component {...props} />\r\n                : <Redirect to={{ pathname: '/login', state: { from: props.location } }} />\r\n        )} />\r\n    );\r\n}\r\n// Map Redux state to React component props\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        sessionToken: state.user.sessionToken\r\n    };\r\n};\r\n// Connect Redux to React\r\nexport default connect(mapStateToProps)(PrivateRoute)","import './App.css';\r\nimport LogRegScreen from \"./containers/LogRegScreen/LogRegScreen\";\r\nimport MainPageScreen from \"./containers/MainPageScreen/MainPageScreen\";\r\nimport PlayGameScreen from \"./containers/PlayGameScreen/PlayGameScreen\";\r\nimport NavBar from \"./containers/Navigation/NavBar\";\r\nimport {Switch, Route, Redirect, useHistory} from 'react-router-dom';\r\nimport ScrollToTop from \"./containers/CommonComponents/ScrollToTop\";\r\nimport {useEffect, useState,} from \"react\";\r\nimport {mapAllStateToProps} from './redux/reducers/rootReducer'\r\nimport {connect} from 'react-redux'\r\nimport PrivateRoute from \"./containers/CommonComponents/PrivateRouter\";\r\nimport {getGameIsInGame, getSessionToken} from \"./serverLogic/DataFetcher\";\r\nimport {setIsInGame} from \"./redux/actions/userActions\";\r\nimport {setGameId, setGameMode, setPlayingAs} from \"./redux/actions/gameActions\";\r\n\r\nexport const GAME_DEBUGING_MODE=false;\r\n\r\nfunction App({socket,sessionToken,userId,gameId,isInGame,dispatch}) {\r\n    const history = useHistory();\r\n    let routeToMain = () => history.push('/');\r\n    const routeToGame = (gameId) => history.push('/play?id=' + gameId);\r\n    const [loading,setLoading]=useState(true);\r\n\r\n    function checkIfIsInGame(){\r\n        let resp= getGameIsInGame(userId,sessionToken);\r\n        if (resp === undefined) return\r\n\r\n        //if not in game REROUTE back\r\n        if(!resp.inGame && !GAME_DEBUGING_MODE){\r\n            dispatch(setIsInGame(false));\r\n            return;\r\n        }\r\n        dispatch(setGameId(resp.gameId));\r\n        dispatch(setPlayingAs(resp.playingAs));\r\n        dispatch(setGameMode(resp.gameMode));\r\n        dispatch(setIsInGame(true));\r\n\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        //try to regenerate the session on reload\r\n        if(sessionToken==='none' && userId){\r\n            getSessionToken().then( (resp)=>{\r\n                if(resp===undefined || !resp.sessionToken){\r\n                    setLoading(false);\r\n                    return;\r\n                }\r\n                if(isInGame===\"true\"){ routeToGame(gameId);}\r\n                else{ routeToMain();}\r\n                setLoading(false);\r\n            }\r\n            );\r\n        }\r\n        else{\r\n            setLoading(false);\r\n        }\r\n        //connect the socket on startup\r\n        socket.connect();\r\n    }, []);\r\n\r\n  return (\r\n      <div>\r\n          {!loading &&\r\n              <div className=\"App\">\r\n                  <ScrollToTop />\r\n                  <Route path=\"/\" component={NavBar}/>\r\n                  <Switch>\r\n                      {<PrivateRoute path=\"/\" exact component={MainPageScreen} /> }\r\n                      {<PrivateRoute path=\"/play\" component={PlayGameScreen} />}\r\n                      <Route path=\"/login\" component={LogRegScreen} />\r\n                      <Redirect from=\"*\" to=\"/\" />\r\n                  </Switch>\r\n              </div>\r\n          }\r\n      </div>\r\n\r\n      );\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\r\nexport default connect(mapAllStateToProps)(App);\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport {applyMiddleware, createStore} from \"redux\";\r\nimport rootReducer from \"./redux/reducers/rootReducer\";\r\nimport {composeWithDevTools} from \"redux-devtools-extension\";\r\nimport thunk from \"redux-thunk\";\r\nimport {Provider} from \"react-redux\";\r\nimport {BrowserRouter as Router} from 'react-router-dom';\r\n\r\n\r\n//redux store\r\nexport const store = createStore(rootReducer, composeWithDevTools(applyMiddleware(thunk)))\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <Router>\r\n          <React.StrictMode>\r\n            <App />\r\n          </React.StrictMode>\r\n        </Router>\r\n    </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}